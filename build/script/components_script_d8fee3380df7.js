function SmartUnLoading(){$(".divMessageBox").fadeOut(300,function(){$(this).remove()}),$(".LoadingBoxContainer").fadeOut(300,function(){$(this).remove()})}function getInternetExplorerVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,a=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=a.exec(t)&&(e=parseFloat(RegExp.$1))}return e}function checkVersion(){var e="You're not using Windows Internet Explorer.",t=getInternetExplorerVersion();t>-1&&(e=t>=8?"You're using a recent copy of Windows Internet Explorer.":"You should upgrade your copy of Windows Internet Explorer."),alert(e)}function isIE8orlower(){var e="0",t=getInternetExplorerVersion();return t>-1&&(e=t>=9?0:1),e}enableJarvisWidgets=!0,localStorageJarvisWidgets=!0,sortableJarvisWidgets=!0,enableMobileWidgets=!1,$.fn.jarvisWidgets&&enableJarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:localStorageJarvisWidgets,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:sortableJarvisWidgets,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone!",deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"fa fa-plus",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("Hello you, this is a custom button...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax}),!function(e,t,a,n){function i(t,a){this.obj=e(t),this.o=e.extend({},e.fn[o].defaults,a),this.objId=this.obj.attr("id"),this.pwCtrls=".jarviswidget-ctrls",this.widget=this.obj.find(this.o.widgets),this.toggleClass=this.o.toggleClass.split("|"),this.editClass=this.o.editClass.split("|"),this.fullscreenClass=this.o.fullscreenClass.split("|"),this.customClass=this.o.customClass.split("|"),this.storage={enabled:this.o.localStorage},this.initialized=!1,this.init()}var o="jarvisWidgets",r=("ontouchstart"in t||t.DocumentTouch&&a instanceof DocumentTouch?"touchstart":"click")+"."+o;i.prototype={_runLoaderWidget:function(e){var t=this;t.o.indicator===!0&&e.parents(t.o.widgets).find(".jarviswidget-loader:first").stop(!0,!0).fadeIn(100).delay(t.o.indicatorTime).fadeOut(100)},_getPastTimestamp:function(e){var t=this,a=new Date(e),n=a.getMonth()+1,i=a.getDate(),o=a.getFullYear(),r=a.getHours(),s=a.getMinutes(),l=a.getUTCSeconds();10>n&&(n="0"+n),10>i&&(i="0"+i),10>r&&(r="0"+r),10>s&&(s="0"+s),10>l&&(l="0"+l);var d=t.o.timestampFormat.replace(/%d%/g,i).replace(/%m%/g,n).replace(/%y%/g,o).replace(/%h%/g,r).replace(/%i%/g,s).replace(/%s%/g,l);return d},_loadAjaxFile:function(t,a,n){var i=this;t.find(".widget-body").load(a,function(a,n,o){var r=e(this);if("error"==n&&r.html('<h4 class="alert alert-danger">'+i.o.labelError+"<b> "+o.status+" "+o.statusText+"</b></h4>"),"success"==n){var s=t.find(i.o.timestampPlaceholder);s.length&&s.html(i._getPastTimestamp(new Date)),"function"==typeof i.o.afterLoad&&i.o.afterLoad.call(this,t)}i=null}),this._runLoaderWidget(n)},_loadKeys:function(){var e=this;if(e.o.ajaxnav===!0){var t=location.hash.replace(/^#/,"");e.storage.keySettings="Plugin_settings_"+t+"_"+e.objId,e.storage.keyPosition="Plugin_position_"+t+"_"+e.objId}else if(e.initialized===!1){var t=e.o.pageKey||location.pathname;e.storage.keySettings="jarvisWidgets_settings_"+t+"_"+e.objId,e.storage.keyPosition="jarvisWidgets_position_"+t+"_"+e.objId}},_saveSettingsWidget:function(){var t=this,a=t.storage;t._loadKeys();var n=t.obj.find(t.o.widgets).map(function(){var t={};return t.id=e(this).attr("id"),t.style=e(this).attr("data-widget-attstyle"),t.title=e(this).children("header").children("h2").text(),t.hidden="none"==e(this).css("display")?1:0,t.collapsed=e(this).hasClass("jarviswidget-collapsed")?1:0,t}).get(),i=JSON.stringify({widget:n});a.enabled&&a.getKeySettings!=i&&(localStorage.setItem(a.keySettings,i),a.getKeySettings=i),"function"==typeof t.o.onSave&&t.o.onSave.call(this,null,i,a.keySettings)},_savePositionWidget:function(){var t=this,a=t.storage;t._loadKeys();var n=t.obj.find(t.o.grid+".sortable-grid").map(function(){var a=e(this).children(t.o.widgets).map(function(){return{id:e(this).attr("id")}}).get();return{section:a}}).get(),i=JSON.stringify({grid:n});a.enabled&&a.getKeyPosition!=i&&(localStorage.setItem(a.keyPosition,i),a.getKeyPosition=i),"function"==typeof t.o.onSave&&t.o.onSave.call(this,i,a.keyPosition)},init:function(){var t=this;if(!t.initialized){if(t._initStorage(t.storage),e("#"+t.objId).length||alert("It looks like your using a class instead of an ID, dont do that!"),t.o.rtl===!0&&e("body").addClass("rtl"),e(t.o.grid).each(function(){e(this).find(t.o.widgets).length&&e(this).addClass("sortable-grid")}),t.storage.enabled&&t.storage.getKeyPosition){var a=JSON.parse(t.storage.getKeyPosition);for(var i in a.grid){var s=t.obj.find(t.o.grid+".sortable-grid").eq(i);for(var l in a.grid[i].section)s.append(e("#"+a.grid[i].section[l].id))}}if(t.storage.enabled&&t.storage.getKeySettings){var d=JSON.parse(t.storage.getKeySettings);for(var i in d.widget){var c=e("#"+d.widget[i].id);d.widget[i].style&&c.removeClassPrefix("jarviswidget-color-").addClass(d.widget[i].style).attr("data-widget-attstyle",""+d.widget[i].style),1==d.widget[i].hidden?c.hide(1):c.show(1).removeAttr("data-widget-hidden"),1==d.widget[i].collapsed&&c.addClass("jarviswidget-collapsed").children("div").hide(1),c.children("header").children("h2").text()!=d.widget[i].title&&c.children("header").children("h2").text(d.widget[i].title)}}if(t.widget.each(function(){var a,i,o,r,s,l,d,c,u=e(this),f=e(this).children("header");if(!f.parent().attr("role")){u.data("widget-hidden")===!0&&u.hide(),u.data("widget-collapsed")===!0&&u.addClass("jarviswidget-collapsed").children("div").hide(),a=t.o.customButton===!0&&u.data("widget-custombutton")===n&&0!==t.customClass[0].length?'<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+t.customClass[0]+'"></i></a>':"",i=t.o.deleteButton===!0&&u.data("widget-deletebutton")===n?'<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="Delete" data-placement="bottom"><i class="'+t.o.deleteClass+'"></i></a>':"",o=t.o.editButton===!0&&u.data("widget-editbutton")===n?'<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom"><i class="'+t.editClass[0]+'"></i></a>':"",r=t.o.fullscreenButton===!0&&u.data("widget-fullscreenbutton")===n?'<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="Fullscreen" data-placement="bottom"><i class="'+t.fullscreenClass[0]+'"></i></a>':"",t.o.colorButton===!0&&u.data("widget-colorbutton")===n?(s='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"></a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="Green Grass"></span></li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="Dark Green"></span></li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="Light Green"></span></li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="Purple"></span></li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="Magenta"></span></li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="Pink"></span></li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="Fade Pink"></span></li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="Light Blue"></span></li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="Teal"></span></li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="Ocean Blue"></span></li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="Night Sky"></span></li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="Night"></span></li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="Day Light"></span></li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"></span></li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="Dark Orange"></span></li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="Red Rose"></span></li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="Light Red"></span></li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"></span></li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="Reset widget color to default">Remove</a></li></ul>',f.prepend('<div class="widget-toolbar">'+s+"</div>")):s="",t.o.toggleButton===!0&&u.data("widget-togglebutton")===n?(d=u.data("widget-collapsed")===!0||u.hasClass("jarviswidget-collapsed")?t.toggleClass[1]:t.toggleClass[0],l='<a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Collapse" data-placement="bottom"><i class="'+d+'"></i></a>'):l="",c=t.o.refreshButton===!0&&u.data("widget-refreshbutton")!==!1&&u.data("widget-load")?'<a href="javascript:void(0);" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+t.o.refreshButtonClass+'"></i></a>':"";var g=t.o.buttonOrder.replace(/%refresh%/g,c).replace(/%delete%/g,i).replace(/%custom%/g,a).replace(/%fullscreen%/g,r).replace(/%edit%/g,o).replace(/%toggle%/g,l);(""!==c||""!==i||""!==a||""!==r||""!==o||""!==l)&&f.prepend('<div class="jarviswidget-ctrls">'+g+"</div>"),t.o.sortable===!0&&u.data("widget-sortable")===n&&u.addClass("jarviswidget-sortable"),u.find(t.o.editPlaceholder).length&&u.find(t.o.editPlaceholder).find("input").val(e.trim(f.children("h2").text())),f.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span>'),u.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu")}}),t.o.buttonsHidden===!0&&e(t.o.pwCtrls).hide(),e(".jarviswidget header [rel=tooltip]").tooltip(),t.obj.find("[data-widget-load]").each(function(){var a=e(this),n=a.children(),i=a.data("widget-load"),o=1e3*a.data("widget-refresh");a.children(),a.find(".jarviswidget-ajax-placeholder").length||(a.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+t.o.loadingLabel+"</div>"),a.data("widget-refresh")>0?(t._loadAjaxFile(a,i,n),e.intervalArr.push(setInterval(function(){t._loadAjaxFile(a,i,n)},o))):t._loadAjaxFile(a,i,n))}),t.o.sortable===!0&&jQuery.ui){var u=t.obj.find(t.o.grid+".sortable-grid").not("[data-widget-excludegrid]");u.sortable({items:u.find(t.o.widgets+".jarviswidget-sortable"),connectWith:u,placeholder:t.o.placeholderClass,cursor:"move",revert:!0,opacity:t.o.opacity,delay:200,cancel:".button-icon, #jarviswidget-fullscreen-mode > div",zIndex:1e4,handle:t.o.dragHandle,forcePlaceholderSize:!0,forceHelperSize:!0,update:function(e,a){t._runLoaderWidget(a.item.children()),t._savePositionWidget(),"function"==typeof t.o.onChange&&t.o.onChange.call(this,a.item)}})}t.o.buttonsHidden===!0&&t.widget.children("header").on("mouseenter."+o,function(){e(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,1)}).on("mouseleave."+o,function(){e(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,0)}),t._clickEvents(),t.storage.enabled&&(e(t.o.deleteSettingsKey).on(r,this,function(e){var a=confirm(t.o.settingsKeyLabel);a&&localStorage.removeItem(keySettings),e.preventDefault()}),e(t.o.deletePositionKey).on(r,this,function(e){var a=confirm(t.o.positionKeyLabel);a&&localStorage.removeItem(keyPosition),e.preventDefault()})),initialized=!0}},_initStorage:function(e){e.enabled=e.enabled&&!!function(){var e,t=+new Date;try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e}catch(a){}}(),this._loadKeys(),e.enabled&&(e.getKeySettings=localStorage.getItem(e.keySettings),e.getKeyPosition=localStorage.getItem(e.keyPosition))},_clickEvents:function(){function a(){if(e("#jarviswidget-fullscreen-mode").length){var a=e(t).height(),i=e("#jarviswidget-fullscreen-mode").children(n.o.widgets).children("header").height();e("#jarviswidget-fullscreen-mode").children(n.o.widgets).children("div").height(a-i-15)}}var n=this,i=n.widget.children("header");i.on(r,".jarviswidget-toggle-btn",function(t){var a=e(this),i=a.parents(n.o.widgets);n._runLoaderWidget(a),i.hasClass("jarviswidget-collapsed")?a.children().removeClass(n.toggleClass[1]).addClass(n.toggleClass[0]).parents(n.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(n.o.toggleSpeed,function(){n._saveSettingsWidget()}):a.children().removeClass(n.toggleClass[0]).addClass(n.toggleClass[1]).parents(n.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(n.o.toggleSpeed,function(){n._saveSettingsWidget()}),"function"==typeof n.o.onToggle&&n.o.onToggle.call(this,i),t.preventDefault()}),i.on(r,".jarviswidget-fullscreen-btn",function(t){var i=e(this).parents(n.o.widgets),o=i.children("div");n._runLoaderWidget(e(this)),e("#jarviswidget-fullscreen-mode").length?(e(".nooverflow").removeClass("nooverflow"),i.unwrap("<div>").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn:first").children().removeClass(n.fullscreenClass[1]).addClass(n.fullscreenClass[0]).parents(n.pwCtrls).children("a").show(),o.hasClass("jarviswidget-visible")&&o.hide().removeClass("jarviswidget-visible")):(e("body").addClass("nooverflow"),i.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn:first").children().removeClass(n.fullscreenClass[0]).addClass(n.fullscreenClass[1]).parents(n.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),o.is(":hidden")&&o.show().addClass("jarviswidget-visible")),a(),"function"==typeof n.o.onFullscreen&&n.o.onFullscreen.call(this,i),t.preventDefault()}),e(t).on("resize."+o,function(){a()}),i.on(r,".jarviswidget-edit-btn",function(t){var a=e(this).parents(n.o.widgets);n._runLoaderWidget(e(this)),a.find(n.o.editPlaceholder).is(":visible")?e(this).children().removeClass(n.editClass[1]).addClass(n.editClass[0]).parents(n.o.widgets).find(n.o.editPlaceholder).slideUp(n.o.editSpeed,function(){n._saveSettingsWidget()}):e(this).children().removeClass(n.editClass[0]).addClass(n.editClass[1]).parents(n.o.widgets).find(n.o.editPlaceholder).slideDown(n.o.editSpeed),"function"==typeof n.o.onEdit&&n.o.onEdit.call(this,a),t.preventDefault()}),e(n.o.editPlaceholder).find("input").keyup(function(){e(this).parents(n.o.widgets).children("header").children("h2").text(e(this).val())}),i.on(r,"[data-widget-setstyle]",function(t){var a=e(this).data("widget-setstyle"),i="";e(this).parents(n.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){i+=e(this).data("widget-setstyle")+" "}),e(this).parents(n.o.widgets).attr("data-widget-attstyle",""+a).removeClassPrefix("jarviswidget-color-").addClass(a),n._runLoaderWidget(e(this)),n._saveSettingsWidget(),t.preventDefault()}),i.on(r,".jarviswidget-custom-btn",function(t){var a=e(this).parents(n.o.widgets);n._runLoaderWidget(e(this)),e(this).children("."+n.customClass[0]).length?(e(this).children().removeClass(n.customClass[0]).addClass(n.customClass[1]),"function"==typeof n.o.customStart&&n.o.customStart.call(this,a)):(e(this).children().removeClass(n.customClass[1]).addClass(n.customClass[0]),"function"==typeof n.o.customEnd&&n.o.customEnd.call(this,a)),n._saveSettingsWidget(),t.preventDefault()}),i.on(r,".jarviswidget-delete-btn",function(t){var a=e(this).parents(n.o.widgets),i=a.attr("id"),o=a.children("header").children("h2").text();e.SmartMessageBox?e.SmartMessageBox({title:"<i class='fa fa-times' style='color:#ed1c24'></i> "+n.o.labelDelete+' "'+o+'"',content:n.o.deleteMsg,buttons:"[No][Yes]"},function(t){"Yes"==t&&(n._runLoaderWidget(e(this)),e("#"+i).fadeOut(n.o.deleteSpeed,function(){e(this).remove(),"function"==typeof n.o.onDelete&&n.o.onDelete.call(this,a)}))}):e("#"+i).fadeOut(n.o.deleteSpeed,function(){e(this).remove(),"function"==typeof n.o.onDelete&&n.o.onDelete.call(this,a)}),t.preventDefault()}),i.on(r,".jarviswidget-refresh-btn",function(t){var a=e(this).parents(n.o.widgets),i=a.data("widget-load"),o=a.children(),r=e(this);r.button("loading"),o.addClass("widget-body-ajax-loading"),setTimeout(function(){r.button("reset"),o.removeClass("widget-body-ajax-loading"),n._loadAjaxFile(a,i,o)},1e3),t.preventDefault()}),i=null},destroy:function(){var a=this,n="."+o,i=a.obj.find(a.o.grid+".sortable-grid").not("[data-widget-excludegrid]");i.sortable("destroy"),a.widget.children("header").off(n),e(a.o.deleteSettingsKey).off(n),e(a.o.deletePositionKey).off(n),e(t).off(n),a.obj.removeData(o)}},e.fn[o]=function(t){return this.each(function(){var a=e(this),n=a.data(o);if(!n){var r="object"==typeof t&&t;a.data(o,n=new i(this,r))}"string"==typeof t&&n[t]()})},e.fn[o].defaults={grid:"section",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"",settingsKeyLabel:"Reset settings?",deletePositionKey:"",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"min-10 | plus-10",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone",deleteClass:"trashcan-10",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"pencil-10 | delete-10",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fullscreen-10 | normalscreen-10",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,loadingLabel:"loading...",timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"refresh-10",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0},e.fn.removeClassPrefix=function(t){return this.each(function(a,n){var i=n.className.split(" ").map(function(e){return 0===e.indexOf(t)?"":e});n.className=e.trim(i.join(" "))}),this}}(jQuery,window,document),!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):e(jQuery,moment)}(function(e,t){function a(e,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function n(e,t){var a=t.longDateFormat("L");return a=a.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?a+=" ddd":a="ddd "+a,a}function i(e){o(ke,e)}function o(t){function a(a,n){e.isPlainObject(n)&&e.isPlainObject(t[a])&&!r(a)?t[a]=o({},t[a],n):void 0!==n&&(t[a]=n)}for(var n=1;n<arguments.length;n++)e.each(arguments[n],a);return t}function r(e){return/(Time|Duration)$/.test(e)}function s(a,n){function i(e){se?f()&&(w(),m(e)):r()}function r(){le=ae.theme?"ui":"fc",a.addClass("fc"),a.addClass(ae.isRTL?"fc-rtl":"fc-ltr"),ae.theme&&a.addClass("ui-widget"),se=e("<div class='fc-content' />").prependTo(a),oe=new l(ee,ae),re=oe.render(),re&&a.prepend(re),h(ae.defaultView),ae.handleWindowResize&&e(window).resize(C),g()||s()}function s(){setTimeout(function(){!de.start&&g()&&v()},0)}function c(){de&&(J("viewDestroy",de,de,de.element),de.triggerEventDestroy()),e(window).unbind("resize",C),ae.droppable&&e(document).off("dragstart",Q).off("dragstop",X),de.selectionManagerDestroy&&de.selectionManagerDestroy(),oe.destroy(),se.remove(),a.removeClass("fc fc-ltr fc-rtl ui-widget")}function f(){return a.is(":visible")}function g(){return e("body").is(":visible")}function h(e){de&&e==de.name||p(e)}function p(t){be++,de&&(J("viewDestroy",de,de,de.element),I(),de.triggerEventDestroy(),Z(),de.element.remove(),oe.deactivateButton(de.name)),oe.activateButton(t),de=new Me[t](e("<div class='fc-view fc-view-"+t+"' />").appendTo(se),ee),v(),q(),be--}function v(e){de.start&&!e&&fe.isWithin(de.intervalStart,de.intervalEnd)||f()&&m(e)}function m(e){be++,de.start&&(J("viewDestroy",de,de,de.element),I(),k()),Z(),e&&(fe=de.incrementDate(fe,e)),de.render(fe.clone()),y(),q(),(de.afterRender||T)(),$(),L(),J("viewRender",de,de,de.element),be--,E()}function b(){f()&&(I(),k(),w(),y(),j())}function w(){ue=ae.contentHeight?ae.contentHeight:ae.height?ae.height-(re?re.height():0)-S(se):Math.round(se.width()/Math.max(ae.aspectRatio,.5))}function y(){void 0===ue&&w(),be++,de.setHeight(ue),de.setWidth(se.width()),be--,ce=a.outerWidth()}function C(e){if(!be&&e.target===window)if(de.start){var t=++me;setTimeout(function(){t==me&&!be&&f()&&ce!=(ce=a.outerWidth())&&(be++,b(),de.trigger("windowResize",ve),be--)},ae.windowResizeDelay)}else s()}function x(){k(),B()}function D(e){k(),j(e)}function j(e){f()&&(de.renderEvents(we,e),de.trigger("eventAfterAllRender"))}function k(){de.triggerEventDestroy(),de.clearEvents(),de.clearEventData()}function E(){!ae.lazyFetching||he(de.start,de.end)?B():j()}function B(){pe(de.start,de.end)}function _(e){we=e,j()}function M(e){D(e)}function $(){oe.updateTitle(de.title)}function L(){var e=ee.getNow();e.isWithin(de.intervalStart,de.intervalEnd)?oe.disableButton("today"):oe.enableButton("today")}function P(e,t){de.select(e,t)}function I(){de&&de.unselect()}function W(){v(-1)}function A(){v(1)}function R(){fe.add("years",-1),v()}function z(){fe.add("years",1),v()}function F(){fe=ee.getNow(),v()}function N(e){fe=ee.moment(e),v()}function H(e){fe.add(t.duration(e)),v()}function K(){return fe.clone()}function Z(){se.css({width:"100%",height:se.height(),overflow:"hidden"})}function q(){se.css({width:"",height:"",overflow:""})}function G(){return ee}function V(){return de}function U(e,t){return void 0===t?ae[e]:void(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(ae[e]=t,b()))}function J(e,t){return ae[e]?ae[e].apply(t||ve,Array.prototype.slice.call(arguments,2)):void 0}function Q(t,a){var n=t.target,i=e(n);if(!i.parents(".fc").length){var o=ae.dropAccept;(e.isFunction(o)?o.call(n,i):i.is(o))&&(ge=n,de.dragStart(ge,t,a))}}function X(e,t){ge&&(de.dragStop(ge,e,t),ge=null)}var ee=this;n=n||{};var te,ae=o({},ke,n);te=ae.lang in Ee?Ee[ae.lang]:Ee[ke.lang],te&&(ae=o({},ke,te,n)),ae.isRTL&&(ae=o({},ke,Be,te||{},n)),ee.options=ae,ee.render=i,ee.destroy=c,ee.refetchEvents=x,ee.reportEvents=_,ee.reportEventChange=M,ee.rerenderEvents=D,ee.changeView=h,ee.select=P,ee.unselect=I,ee.prev=W,ee.next=A,ee.prevYear=R,ee.nextYear=z,ee.today=F,ee.gotoDate=N,ee.incrementDate=H,ee.getDate=K,ee.getCalendar=G,ee.getView=V,ee.option=U,ee.trigger=J;var ne=u(t.langData(ae.lang));if(ae.monthNames&&(ne._months=ae.monthNames),ae.monthNamesShort&&(ne._monthsShort=ae.monthNamesShort),ae.dayNames&&(ne._weekdays=ae.dayNames),ae.dayNamesShort&&(ne._weekdaysShort=ae.dayNamesShort),null!=ae.firstDay){var ie=u(ne._week);ie.dow=ae.firstDay,ne._week=ie}ee.defaultAllDayEventDuration=t.duration(ae.defaultAllDayEventDuration),ee.defaultTimedEventDuration=t.duration(ae.defaultTimedEventDuration),ee.moment=function(){var e;return"local"===ae.timezone?(e=_e.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===ae.timezone?_e.moment.utc.apply(null,arguments):_e.moment.parseZone.apply(null,arguments),e._lang=ne,e},ee.getIsAmbigTimezone=function(){return"local"!==ae.timezone&&"UTC"!==ae.timezone},ee.rezoneDate=function(e){return ee.moment(e.toArray())},ee.getNow=function(){var e=ae.now;return"function"==typeof e&&(e=e()),ee.moment(e)},ee.calculateWeekNumber=function(e){var t=ae.weekNumberCalculation;return"function"==typeof t?t(e):"local"===t?e.week():"ISO"===t.toUpperCase()?e.isoWeek():void 0},ee.getEventEnd=function(e){return e.end?e.end.clone():ee.getDefaultEventEnd(e.allDay,e.start)},ee.getDefaultEventEnd=function(e,t){var a=t.clone();return e?a.stripTime().add(ee.defaultAllDayEventDuration):a.add(ee.defaultTimedEventDuration),ee.getIsAmbigTimezone()&&a.stripZone(),a},ee.formatRange=function(e,t,a){return"function"==typeof a&&(a=a.call(ee,ae,ne)),Y(e,t,a,null,ae.isRTL)},ee.formatDate=function(e,t){return"function"==typeof t&&(t=t.call(ee,ae,ne)),O(e,t)},d.call(ee,ae);var oe,re,se,le,de,ce,ue,fe,ge,he=ee.isFetchNeeded,pe=ee.fetchEvents,ve=a[0],me=0,be=0,we=[];fe=null!=ae.defaultDate?ee.moment(ae.defaultDate):ee.getNow(),ae.droppable&&e(document).on("dragstart",Q).on("dragstop",X)}function l(t,a){function n(){f=a.theme?"ui":"fc";var t=a.header;return t?g=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(o("left")).append(o("center")).append(o("right"))):void 0}function i(){g.remove()}function o(n){var i=e("<td class='fc-header-"+n+"'/>"),o=a.header[n];return o&&e.each(o.split(" "),function(n){n>0&&i.append("<span class='fc-header-space'/>");var o;e.each(this.split(","),function(n,r){if("title"==r)i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(f+"-corner-right"),o=null;else{var s;if(t[r]?s=t[r]:Me[r]&&(s=function(){h.removeClass(f+"-state-hover"),t.changeView(r)}),s){var l,d=B(a.themeButtonIcons,r),c=B(a.buttonIcons,r),u=B(a.defaultButtonText,r),g=B(a.buttonText,r);l=g?_(g):d&&a.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":c&&!a.theme?"<span class='fc-icon fc-icon-"+c+"'></span>":_(u||r);var h=e("<span class='fc-button fc-button-"+r+" "+f+"-state-default'>"+l+"</span>").click(function(){h.hasClass(f+"-state-disabled")||s()}).mousedown(function(){h.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){h.removeClass(f+"-state-down")}).hover(function(){h.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){h.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(i);$(h),o||h.addClass(f+"-corner-left"),o=h}}}),o&&o.addClass(f+"-corner-right")}),i}function r(e){g.find("h2").html(e)}function s(e){g.find("span.fc-button-"+e).addClass(f+"-state-active")}function l(e){g.find("span.fc-button-"+e).removeClass(f+"-state-active")}function d(e){g.find("span.fc-button-"+e).addClass(f+"-state-disabled")}function c(e){g.find("span.fc-button-"+e).removeClass(f+"-state-disabled")}var u=this;u.render=n,u.destroy=i,u.updateTitle=r,u.activateButton=s,u.deactivateButton=l,u.disableButton=d,u.enableButton=c;var f,g=e([])}function d(t){function a(e,t){return!D||e.clone().stripZone()<D.clone().stripZone()||t.clone().stripZone()>j.clone().stripZone()}function n(e,t){D=e,j=t,A=[];var a=++$,n=M.length;L=n;for(var o=0;n>o;o++)i(M[o],a)}function i(t,a){o(t,function(n){var i,o,r=e.isArray(t.events);if(a==$){if(n)for(i=0;i<n.length;i++)o=n[i],r||(o=y(o,t)),o&&A.push(o);L--,L||E(A)}})}function o(a,n){var i,r,s=_e.sourceFetchers;for(i=0;i<s.length;i++){if(r=s[i].call(x,a,D.clone(),j.clone(),t.timezone,n),r===!0)return;if("object"==typeof r)return void o(r,n)}var l=a.events;if(l)e.isFunction(l)?(b(),l.call(x,D.clone(),j.clone(),t.timezone,function(e){n(e),w()})):e.isArray(l)?n(l):n();else{var d=a.url;if(d){var c,u=a.success,f=a.error,g=a.complete;c=e.isFunction(a.data)?a.data():a.data;var h=e.extend({},c||{}),p=W(a.startParam,t.startParam),v=W(a.endParam,t.endParam),m=W(a.timezoneParam,t.timezoneParam);p&&(h[p]=D.format()),v&&(h[v]=j.format()),t.timezone&&"local"!=t.timezone&&(h[m]=t.timezone),b(),e.ajax(e.extend({},$e,a,{data:h,success:function(t){t=t||[];var a=I(u,this,arguments);e.isArray(a)&&(t=a),n(t)},error:function(){I(f,this,arguments),n()},complete:function(){I(g,this,arguments),w()}}))}else n()}}function r(e){var t=s(e);t&&(M.push(t),L++,i(t,$))}function s(t){var a,n,i=_e.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?a={events:t}:"string"==typeof t?a={url:t}:"object"==typeof t&&(a=e.extend({},t),"string"==typeof a.className&&(a.className=a.className.split(/\s+/))),a){for(e.isArray(a.events)&&(a.events=e.map(a.events,function(e){return y(e,a)})),n=0;n<i.length;n++)i[n].call(x,a);return a}}function l(t){M=e.grep(M,function(e){return!d(e,t)}),A=e.grep(A,function(e){return!d(e.source,t)}),E(A)}function d(e,t){return e&&t&&u(e)==u(t)}function u(e){return("object"==typeof e?e.events||e.url:"")||e}function f(e){e.start=x.moment(e.start),e.end&&(e.end=x.moment(e.end)),C(e),h(e),E(A)}function h(e){var t,a,n,i;for(t=0;t<A.length;t++)if(a=A[t],a._id==e._id&&a!==e)for(n=0;n<R.length;n++)i=R[n],void 0!==e[i]&&(a[i]=e[i])}function p(e,t){var a=y(e);a&&(a.source||(t&&(_.events.push(a),a.source=_),A.push(a)),E(A))}function v(t){var a,n;for(null==t?t=function(){return!0}:e.isFunction(t)||(a=t+"",t=function(e){return e._id==a}),A=e.grep(A,t,!0),n=0;n<M.length;n++)e.isArray(M[n].events)&&(M[n].events=e.grep(M[n].events,t,!0));E(A)}function m(t){return e.isFunction(t)?e.grep(A,t):null!=t?(t+="",e.grep(A,function(e){return e._id==t})):A}function b(){P++||T("loading",null,!0,k())}function w(){--P||T("loading",null,!1,k())}function y(a,n){var i,o,r,s,l={};return t.eventDataTransform&&(a=t.eventDataTransform(a)),n&&n.eventDataTransform&&(a=n.eventDataTransform(a)),i=x.moment(a.start||a.date),i.isValid()&&(o=null,!a.end||(o=x.moment(a.end),o.isValid()))?(r=a.allDay,void 0===r&&(s=W(n?n.allDayDefault:void 0,t.allDayDefault),r=void 0!==s?s:!(i.hasTime()||o&&o.hasTime())),r?(i.hasTime()&&i.stripTime(),o&&o.hasTime()&&o.stripTime()):(i.hasTime()||(i=x.rezoneDate(i)),o&&!o.hasTime()&&(o=x.rezoneDate(o))),e.extend(l,a),n&&(l.source=n),l._id=a._id||(void 0===a.id?"_fc"+Le++:a.id+""),l.className=a.className?"string"==typeof a.className?a.className.split(/\s+/):a.className:[],
l.allDay=r,l.start=i,l.end=o,t.forceEventDuration&&!l.end&&(l.end=B(l)),c(l),l):void 0}function C(e,t,a){var n,i,o,r,s=e._allDay,l=e._start,d=e._end,c=!1;return t||a||(t=e.start,a=e.end),n=e.allDay!=s?e.allDay:!(t||a).hasTime(),n&&(t&&(t=t.clone().stripTime()),a&&(a=a.clone().stripTime())),t&&(i=n?g(t,l.clone().stripTime()):g(t,l)),n!=s?c=!0:a&&(o=g(a||x.getDefaultEventEnd(n,t||l),t||l).subtract(g(d||x.getDefaultEventEnd(s,l),l))),r=S(m(e._id),c,n,i,o),{dateDelta:i,durationDelta:o,undo:r}}function S(a,n,i,o,r){var s=x.getIsAmbigTimezone(),l=[];return e.each(a,function(e,a){var d=a._allDay,u=a._start,f=a._end,g=null!=i?i:d,h=u.clone(),p=!n&&f?f.clone():null;g?(h.stripTime(),p&&p.stripTime()):(h.hasTime()||(h=x.rezoneDate(h)),p&&!p.hasTime()&&(p=x.rezoneDate(p))),p||!t.forceEventDuration&&!+r||(p=x.getDefaultEventEnd(g,h)),h.add(o),p&&p.add(o).add(r),s&&(+o||+r)&&(h.stripZone(),p&&p.stripZone()),a.allDay=g,a.start=h,a.end=p,c(a),l.push(function(){a.allDay=d,a.start=u,a.end=f,c(a)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}var x=this;x.isFetchNeeded=a,x.fetchEvents=n,x.addEventSource=r,x.removeEventSource=l,x.updateEvent=f,x.renderEvent=p,x.removeEvents=v,x.clientEvents=m,x.mutateEvent=C;var D,j,T=x.trigger,k=x.getView,E=x.reportEvents,B=x.getEventEnd,_={events:[]},M=[_],$=0,L=0,P=0,A=[];e.each((t.events?[t.events]:[]).concat(t.eventSources||[]),function(e,t){var a=s(t);a&&M.push(a)});var R=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function c(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}function u(e){var t=function(){};return t.prototype=e,new t}function f(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}function g(e,a){return t.duration({days:e.clone().stripTime().diff(a.clone().stripTime(),"days"),ms:e.time()-a.time()})}function h(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function p(t,a,n){t.unbind("mouseover").mouseover(function(t){for(var i,o,r,s=t.target;s!=this;)i=s,s=s.parentNode;void 0!==(o=i._fci)&&(i._fci=void 0,r=a[o],n(r.event,r.element,r),e(t.target).trigger(t)),t.stopPropagation()})}function v(t,a,n){for(var i,o=0;o<t.length;o++)i=e(t[o]),i.width(Math.max(0,a-b(i,n)))}function m(t,a,n){for(var i,o=0;o<t.length;o++)i=e(t[o]),i.height(Math.max(0,a-S(i,n)))}function b(e,t){return w(e)+C(e)+(t?y(e):0)}function w(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function y(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function C(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function S(e,t){return x(e)+j(e)+(t?D(e):0)}function x(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function D(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function j(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function T(){}function k(e,t){return e-t}function E(e){return Math.max.apply(Math,e)}function B(e,t){if(e=e||{},void 0!==e[t])return e[t];for(var a,n=t.split(/(?=[A-Z])/),i=n.length-1;i>=0;i--)if(a=e[n[i].toLowerCase()],void 0!==a)return a;return e["default"]}function _(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function M(e){return e.replace(/&.*?;/g,"")}function $(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function L(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function P(e,t){var a=e.source||{},n=e.color,i=a.color,o=t("eventColor"),r=e.backgroundColor||n||a.backgroundColor||i||t("eventBackgroundColor")||o,s=e.borderColor||n||a.borderColor||i||t("eventBorderColor")||o,l=e.textColor||a.textColor||t("eventTextColor"),d=[];return r&&d.push("background-color:"+r),s&&d.push("border-color:"+s),l&&d.push("color:"+l),d.join(";")}function I(t,a,n){if(e.isFunction(t)&&(t=[t]),t){var i,o;for(i=0;i<t.length;i++)o=t[i].apply(a,n)||o;return o}}function W(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function A(a,n,i){var o,r,s,l,d=a[0],c=1==a.length&&"string"==typeof d;return t.isMoment(d)?(l=t.apply(null,a),d._ambigTime&&(l._ambigTime=!0),d._ambigZone&&(l._ambigZone=!0)):h(d)||void 0===d?l=t.apply(null,a):(o=!1,r=!1,c?Ie.test(d)?(d+="-01",a=[d],o=!0,r=!0):(s=We.exec(d))&&(o=!s[5],r=!0):e.isArray(d)&&(r=!0),l=n?t.utc.apply(t,a):t.apply(null,a),o?(l._ambigTime=!0,l._ambigZone=!0):i&&(r?l._ambigZone=!0:c&&l.zone(d))),new R(l)}function R(e){f(this,e)}function z(e){var t,a=[],n=!1,i=!1;for(t=0;t<e.length;t++)a.push(_e.moment(e[t])),n=n||a[t]._ambigTime,i=i||a[t]._ambigZone;for(t=0;t<a.length;t++)n?a[t].stripTime():i&&a[t].stripZone();return a}function F(e,a){return t.fn.format.call(e,a)}function O(e,t){return N(e,q(t))}function N(e,t){var a,n="";for(a=0;a<t.length;a++)n+=H(e,t[a]);return n}function H(e,t){var a,n;return"string"==typeof t?t:(a=t.token)?Ae[a]?Ae[a](e):F(e,a):t.maybe&&(n=N(e,t.maybe),n.match(/[1-9]/))?n:""}function Y(e,t,a,n,i){return e=_e.moment.parseZone(e),t=_e.moment.parseZone(t),a=e.lang().longDateFormat(a)||a,n=n||" - ",K(e,t,q(a),n,i)}function K(e,t,a,n,i){var o,r,s,l,d="",c="",u="",f="",g="";for(r=0;r<a.length&&(o=Z(e,t,a[r]),o!==!1);r++)d+=o;for(s=a.length-1;s>r&&(o=Z(e,t,a[s]),o!==!1);s--)c=o+c;for(l=r;s>=l;l++)u+=H(e,a[l]),f+=H(t,a[l]);return(u||f)&&(g=i?f+n+u:u+n+f),d+g+c}function Z(e,t,a){var n,i;return"string"==typeof a?a:!!((n=a.token)&&(i=Re[n.charAt(0)],i&&e.isSame(t,i)))&&F(e,n)}function q(e){return e in ze?ze[e]:ze[e]=G(e)}function G(e){for(var t,a=[],n=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=n.exec(e);)t[1]?a.push(t[1]):t[2]?a.push({maybe:G(t[2])}):t[3]?a.push({token:t[3]}):t[5]&&a.push(t[5]);return a}function V(e,t){function a(e,t){return e.clone().stripTime().add("months",t).startOf("month")}function n(e){i.intervalStart=e.clone().stripTime().startOf("month"),i.intervalEnd=i.intervalStart.clone().add("months",1),i.start=i.intervalStart.clone(),i.start=i.skipHiddenDays(i.start),i.start.startOf("week"),i.start=i.skipHiddenDays(i.start),i.end=i.intervalEnd.clone(),i.end=i.skipHiddenDays(i.end,-1,!0),i.end.add("days",(7-i.end.weekday())%7),i.end=i.skipHiddenDays(i.end,-1,!0);var a=Math.ceil(i.end.diff(i.start,"weeks",!0));"fixed"==i.opt("weekMode")&&(i.end.add("weeks",6-a),a=6),i.title=t.formatDate(i.intervalStart,i.opt("titleFormat")),i.renderBasic(a,i.getCellsPerWeek(),!0)}var i=this;i.incrementDate=a,i.render=n,Q.call(i,e,t,"month")}function U(e,t){function a(e,t){return e.clone().stripTime().add("weeks",t).startOf("week")}function n(e){i.intervalStart=e.clone().stripTime().startOf("week"),i.intervalEnd=i.intervalStart.clone().add("weeks",1),i.start=i.skipHiddenDays(i.intervalStart),i.end=i.skipHiddenDays(i.intervalEnd,-1,!0),i.title=t.formatRange(i.start,i.end.clone().subtract(1),i.opt("titleFormat")," — "),i.renderBasic(1,i.getCellsPerWeek(),!1)}var i=this;i.incrementDate=a,i.render=n,Q.call(i,e,t,"basicWeek")}function J(e,t){function a(e,t){var a=e.clone().stripTime().add("days",t);return a=i.skipHiddenDays(a,0>t?-1:1)}function n(e){i.start=i.intervalStart=e.clone().stripTime(),i.end=i.intervalEnd=i.start.clone().add("days",1),i.title=t.formatDate(i.start,i.opt("titleFormat")),i.renderBasic(1,1,!1)}var i=this;i.incrementDate=a,i.render=n,Q.call(i,e,t,"basicDay")}function Q(t,a,n){function i(e,t,a){V=e,U=t,J=a,o(),R||r(),s()}function o(){ne=re("theme")?"ui":"fc",ie=re("columnFormat"),oe=re("weekNumbers")}function r(){Y=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function s(){var a=l();I&&I.remove(),I=e(a).appendTo(t),W=I.find("thead"),A=W.find(".fc-day-header"),R=I.find("tbody"),z=R.find("tr"),F=R.find(".fc-day"),O=z.find("td:first-child"),N=z.eq(0).find(".fc-day > div"),H=z.eq(0).find(".fc-day-content > div"),L(W.add(W.find("tr"))),L(z),z.eq(0).addClass("fc-first"),z.filter(":last").addClass("fc-last"),F.each(function(t,a){var n=ue(Math.floor(t/U),t%U);se("dayRender",P,n,e(a))}),h(F)}function l(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+d()+c()+"</table>";return e}function d(){var e,t,a=ne+"-widget-header",n="";for(n+="<thead><tr>",oe&&(n+="<th class='fc-week-number "+a+"'>"+_(re("weekNumberTitle"))+"</th>"),e=0;U>e;e++)t=ue(0,e),n+="<th class='fc-day-header fc-"+Pe[t.day()]+" "+a+"'>"+_(he(t,ie))+"</th>";return n+="</tr></thead>"}function c(){var e,t,a,n=ne+"-widget-content",i="";for(i+="<tbody>",e=0;V>e;e++){for(i+="<tr class='fc-week'>",oe&&(a=ue(e,0),i+="<td class='fc-week-number "+n+"'><div>"+_(pe(a))+"</div></td>"),t=0;U>t;t++)a=ue(e,t),i+=u(a);i+="</tr>"}return i+="</tbody>"}function u(e){var t=P.intervalStart.month(),n=a.getNow().stripTime(),i="",o=ne+"-widget-content",r=["fc-day","fc-"+Pe[e.day()],o];return e.month()!=t&&r.push("fc-other-month"),e.isSame(n,"day")?r.push("fc-today",ne+"-state-highlight"):r.push(n>e?"fc-past":"fc-future"),i+="<td class='"+r.join(" ")+"' data-date='"+e.format()+"'><div>",J&&(i+="<div class='fc-day-number'>"+e.date()+"</div>"),i+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function f(t){Z=t;var a,n,i,o=Math.max(Z-W.height(),0);"variable"==re("weekMode")?a=n=Math.floor(o/(1==V?2:6)):(a=Math.floor(o/V),n=o-a*(V-1)),O.each(function(t,o){V>t&&(i=e(o),i.find("> div").css("min-height",(t==V-1?n:a)-S(i)))})}function g(e){K=e,te.clear(),ae.clear(),G=0,oe&&(G=W.find("th.fc-week-number").outerWidth()),q=Math.floor((K-G)/U),v(A.slice(0,-1),q)}function h(e){e.click(p).mousedown(ce)}function p(t){if(!re("selectable")){var n=a.moment(e(this).data("date"));se("dayClick",this,n,t)}}function m(e,t,a){a&&Q.build();for(var n=ge(e,t),i=0;i<n.length;i++){var o=n[i];h(b(o.row,o.leftCol,o.row,o.rightCol))}}function b(e,a,n,i){var o=Q.rect(e,a,n,i,t);return le(o,t)}function w(e){return e.clone().stripTime().add("days",1)}function y(e,t){m(e,t,!0)}function C(){de()}function x(e,t){var a=fe(e),n=F[a.row*U+a.col];se("dayClick",n,e,t)}function D(e,t){ee.start(function(e){if(de(),e){var t=ue(e),n=t.clone().add(a.defaultAllDayEventDuration);m(t,n)}},t)}function j(e,t,a){var n=ee.stop();de(),n&&se("drop",e,ue(n),t,a)}function T(e){return te.left(e)}function k(e){return te.right(e)}function E(e){return ae.left(e)}function B(e){return ae.right(e)}function M(e){return z.eq(e)}var P=this;P.renderBasic=i,P.setHeight=f,P.setWidth=g,P.renderDayOverlay=m,P.defaultSelectionEnd=w,P.renderSelection=y,P.clearSelection=C,P.reportDayClick=x,P.dragStart=D,P.dragStop=j,P.getHoverListener=function(){return ee},P.colLeft=T,P.colRight=k,P.colContentLeft=E,P.colContentRight=B,P.getIsCellAllDay=function(){return!0},P.allDayRow=M,P.getRowCnt=function(){return V},P.getColCnt=function(){return U},P.getColWidth=function(){return q},P.getDaySegmentContainer=function(){return Y},ve.call(P,t,a,n),Se.call(P),Ce.call(P),X.call(P);var I,W,A,R,z,F,O,N,H,Y,K,Z,q,G,V,U,J,Q,ee,te,ae,ne,ie,oe,re=P.opt,se=P.trigger,le=P.renderOverlay,de=P.clearOverlays,ce=P.daySelectionMousedown,ue=P.cellToDate,fe=P.dateToCell,ge=P.rangeToSegments,he=a.formatDate,pe=a.calculateWeekNumber;$(t.addClass("fc-grid")),Q=new xe(function(t,a){var n,i,o;A.each(function(t,r){n=e(r),i=n.offset().left,t&&(o[1]=i),o=[i],a[t]=o}),o[1]=i+n.outerWidth(),z.each(function(a,r){V>a&&(n=e(r),i=n.offset().top,a&&(o[1]=i),o=[i],t[a]=o)}),o[1]=i+n.outerHeight()}),ee=new De(Q),te=new Te(function(e){return N.eq(e)}),ae=new Te(function(e){return H.eq(e)})}function X(){function e(e,t){a.renderDayEvents(e,t)}function t(){a.getDaySegmentContainer().empty()}var a=this;a.renderEvents=e,a.clearEvents=t,me.call(a)}function ee(e,t){function a(e,t){return e.clone().stripTime().add("weeks",t).startOf("week")}function n(e){i.intervalStart=e.clone().stripTime().startOf("week"),i.intervalEnd=i.intervalStart.clone().add("weeks",1),i.start=i.skipHiddenDays(i.intervalStart),i.end=i.skipHiddenDays(i.intervalEnd,-1,!0),i.title=t.formatRange(i.start,i.end.clone().subtract(1),i.opt("titleFormat")," — "),i.renderAgenda(i.getCellsPerWeek())}var i=this;i.incrementDate=a,i.render=n,ie.call(i,e,t,"agendaWeek")}function te(e,t){function a(e,t){var a=e.clone().stripTime().add("days",t);return a=i.skipHiddenDays(a,0>t?-1:1)}function n(e){i.start=i.intervalStart=e.clone().stripTime(),i.end=i.intervalEnd=i.start.clone().add("days",1),i.title=t.formatDate(i.start,i.opt("titleFormat")),i.renderAgenda(1)}var i=this;i.incrementDate=a,i.render=n,ie.call(i,e,t,"agendaDay")}function ae(e,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function ne(e,t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}function ie(a,n,i){function o(e){ke=e,r(),Z?l():s()}function r(){Le=ze("theme")?"ui":"fc",Ie=ze("isRTL"),Re=ze("columnFormat"),We=t.duration(ze("minTime")),Ae=t.duration(ze("maxTime")),me=t.duration(ze("slotDuration")),we=ze("snapDuration"),we=we?t.duration(we):me}function s(){var n,i,o,r,s=Le+"-widget-header",d=Le+"-widget-content",c=me.asMinutes()%15===0;for(l(),te=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a),ze("allDaySlot")?(ae=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(te),n="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+(ze("allDayHTML")||_(ze("allDayText")))+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+s+" fc-agenda-gutter'>&nbsp;</th></tr></table>",ne=e(n).appendTo(te),ie=ne.find("tr"),b(ie.find("td")),te.append("<div class='fc-agenda-divider "+s+"'><div class='fc-agenda-divider-inner'/></div>")):ae=e([]),re=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(te),se=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(re),le=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(se),n="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",i=t.duration(+We),Ee=0;Ae>i;)o=K.start.clone().time(i),r=o.minutes(),n+="<tr class='fc-slot"+Ee+" "+(r?"fc-minor":"")+"'><th class='fc-agenda-axis "+s+"'>"+(c&&r?"&nbsp;":_(Ue(o,ze("axisFormat"))))+"</th><td class='"+d+"'><div style='position:relative'>&nbsp;</div></td></tr>",i.add(me),Ee++;n+="</tbody></table>",de=e(n).appendTo(se),w(de.find("td"))}function l(){var t=d();Z&&Z.remove(),Z=e(t).appendTo(a),q=Z.find("thead"),G=q.find("th").slice(1,-1),V=Z.find("tbody"),U=V.find("td").slice(0,-1),J=U.find("> div"),Q=U.find(".fc-day-content > div"),X=U.eq(0),ee=J.eq(0),L(q.add(q.find("tr"))),L(V.add(V.find("tr")))}function d(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+c()+u()+"</table>";return e}function c(){var e,t,a,n=Le+"-widget-header",i="";for(i+="<thead><tr>",ze("weekNumbers")?(e=qe(0,0),t=Je(e),Ie?t+=ze("weekNumberTitle"):t=ze("weekNumberTitle")+t,i+="<th class='fc-agenda-axis fc-week-number "+n+"'>"+_(t)+"</th>"):i+="<th class='fc-agenda-axis "+n+"'>&nbsp;</th>",a=0;ke>a;a++)e=qe(0,a),i+="<th class='fc-"+Pe[e.day()]+" fc-col"+a+" "+n+"'>"+_(Ue(e,Re))+"</th>";return i+="<th class='fc-agenda-gutter "+n+"'>&nbsp;</th></tr></thead>"}function u(){var e,t,a,i,o,r=Le+"-widget-header",s=Le+"-widget-content",l=n.getNow().stripTime(),d="";for(d+="<tbody><tr><th class='fc-agenda-axis "+r+"'>&nbsp;</th>",a="",t=0;ke>t;t++)e=qe(0,t),o=["fc-col"+t,"fc-"+Pe[e.day()],s],e.isSame(l,"day")?o.push(Le+"-state-highlight","fc-today"):o.push(l>e?"fc-past":"fc-future"),i="<td class='"+o.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",a+=i;return d+=a,d+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td></tr></tbody>"}function f(e){void 0===e&&(e=fe),fe=e,Qe={};var t=V.position().top,a=re.position().top,n=Math.min(e-t,de.height()+a+1);ee.height(n-S(X)),te.css("top",t),re.height(n-a-1);var i=de.find("tr:first").height()+1,o=de.find("tr:eq(1)").height();be=(i+o)/2,ye=me/we,je=be/ye}function g(t){ue=t,Me.clear(),$e.clear();var a=q.find("th:first");ne&&(a=a.add(ne.find("th:first"))),a=a.add(de.find("th:first")),ge=0,v(a.width("").each(function(t,a){ge=Math.max(ge,e(a).outerWidth())}),ge);var n=Z.find(".fc-agenda-gutter");ne&&(n=n.add(ne.find("th.fc-agenda-gutter")));var i=re[0].clientWidth;pe=re.width()-i,pe?(v(n,pe),n.show().prev().removeClass("fc-last")):n.hide().prev().addClass("fc-last"),he=Math.floor((i-ge)/ke),v(G.slice(0,-1),he)}function h(){function e(){re.scrollTop(a)}var a=W(t.duration(ze("scrollTime")))+1;e(),setTimeout(e,0)}function p(){h()}function b(e){e.click(y).mousedown(Ke)}function w(e){e.click(y).mousedown(O)}function y(e){if(!ze("selectable")){var t=Math.min(ke-1,Math.floor((e.pageX-Z.offset().left-ge)/he)),a=qe(0,t),i=this.parentNode.className.match(/fc-slot(\d+)/);if(i){var o=parseInt(i[1],10);a.add(We+o*me),a=n.rezoneDate(a),Fe("dayClick",U[t],a,e)}else Fe("dayClick",U[t],a,e)}}function C(e,t,a){a&&Be.build();for(var n=Ve(e,t),i=0;i<n.length;i++){var o=n[i];b(x(o.row,o.leftCol,o.row,o.rightCol))}}function x(e,t,a,n){var i=Be.rect(e,t,a,n,te);return Oe(i,te)}function D(e,t){e=e.clone().stripZone(),t=t.clone().stripZone();for(var a=0;ke>a;a++){var n=qe(0,a),i=n.clone().add("days",1),o=e>n?e:n,r=t>i?i:t;if(r>o){var s=Be.rect(0,a,0,a,se),l=I(o,n),d=I(r,n);s.top=l,s.height=d-l,w(Oe(s,se))}}}function j(e){return Me.left(e)}function T(e){return $e.left(e)}function E(e){return Me.right(e)}function B(e){return $e.right(e)}function M(e){return ze("allDaySlot")&&!e.row}function P(e){var a=qe(0,e.col),i=e.row;return ze("allDaySlot")&&i--,i>=0&&(a.time(t.duration(We+i*we)),a=n.rezoneDate(a)),a}function I(e,a){return W(t.duration(e.clone().stripZone()-a.clone().stripTime()))}function W(e){if(We>e)return 0;if(e>=Ae)return de.height();var t=(e-We)/me,a=Math.floor(t),n=t-a,i=Qe[a];void 0===i&&(i=Qe[a]=de.find("tr").eq(a).find("td div")[0].offsetTop);var o=i-1+n*be;return o=Math.max(o,0)}function A(e){return e.hasTime()?e.clone().add(me):e.clone().add("days",1)}function R(e,t){e.hasTime()||t.hasTime()?z(e,t):ze("allDaySlot")&&C(e,t,!0)}function z(t,a){var n=ze("selectHelper");if(Be.build(),n){var i=Ge(t).col;if(i>=0&&ke>i){var o=Be.rect(0,i,0,i,se),r=I(t,t),s=I(a,t);if(s>r){if(o.top=r,o.height=s-r,o.left+=2,o.width-=5,e.isFunction(n)){var l=n(t,a);l&&(o.position="absolute",ce=e(l).css(o).appendTo(se))}else o.isStart=!0,o.isEnd=!0,ce=e(Ze({title:"",start:t,end:a,className:["fc-select-helper"],editable:!1},o)),ce.css("opacity",ze("dragOpacity"));ce&&(w(ce),se.append(ce),v(ce,o.width,!0),m(ce,o.height,!0))}}}else D(t,a)}function F(){Ne(),ce&&(ce.remove(),ce=null)}function O(t){if(1==t.which&&ze("selectable")){Ye(t);var a;_e.start(function(e,t){if(F(),e&&e.col==t.col&&!M(e)){var n=P(t),i=P(e);a=[n,n.clone().add(we),i,i.clone().add(we)].sort(k),z(a[0],a[3])}else a=null},t),e(document).one("mouseup",function(e){_e.stop(),a&&(+a[0]==+a[1]&&N(a[0],e),He(a[0],a[3],e))})}}function N(e,t){Fe("dayClick",U[Ge(e).col],e,t)}function H(e,t){_e.start(function(e){if(Ne(),e){var t=P(e),a=t.clone();t.hasTime()?(a.add(n.defaultTimedEventDuration),D(t,a)):(a.add(n.defaultAllDayEventDuration),C(t,a))}},t)}function Y(e,t,a){var n=_e.stop();Ne(),n&&Fe("drop",e,P(n),t,a)}var K=this;K.renderAgenda=o,K.setWidth=g,K.setHeight=f,K.afterRender=p,K.computeDateTop=I,K.getIsCellAllDay=M,K.allDayRow=function(){return ie},K.getCoordinateGrid=function(){return Be},K.getHoverListener=function(){return _e},K.colLeft=j,K.colRight=E,K.colContentLeft=T,K.colContentRight=B,K.getDaySegmentContainer=function(){return ae},K.getSlotSegmentContainer=function(){return le},K.getSlotContainer=function(){return se},K.getRowCnt=function(){return 1},K.getColCnt=function(){return ke},K.getColWidth=function(){return he},K.getSnapHeight=function(){return je},K.getSnapDuration=function(){return we},K.getSlotHeight=function(){return be},K.getSlotDuration=function(){return me},K.getMinTime=function(){return We},K.getMaxTime=function(){return Ae},K.defaultSelectionEnd=A,K.renderDayOverlay=C,K.renderSelection=R,K.clearSelection=F,K.reportDayClick=N,K.dragStart=H,K.dragStop=Y,ve.call(K,a,n,i),Se.call(K),Ce.call(K),oe.call(K);var Z,q,G,V,U,J,Q,X,ee,te,ae,ne,ie,re,se,le,de,ce,ue,fe,ge,he,pe,me,be,we,ye,je,ke,Ee,Be,_e,Me,$e,Le,Ie,We,Ae,Re,ze=K.opt,Fe=K.trigger,Oe=K.renderOverlay,Ne=K.clearOverlays,He=K.reportSelection,Ye=K.unselect,Ke=K.daySelectionMousedown,Ze=K.slotSegHtml,qe=K.cellToDate,Ge=K.dateToCell,Ve=K.rangeToSegments,Ue=n.formatDate,Je=n.calculateWeekNumber,Qe={};$(a.addClass("fc-agenda")),Be=new xe(function(t,a){function n(e){return Math.max(l,Math.min(d,e))}var i,o,r;G.each(function(t,n){i=e(n),o=i.offset().left,t&&(r[1]=o),r=[o],a[t]=r}),r[1]=o+i.outerWidth(),ze("allDaySlot")&&(i=ie,o=i.offset().top,t[0]=[o,o+i.outerHeight()]);for(var s=se.offset().top,l=re.offset().top,d=l+re.outerHeight(),c=0;Ee*ye>c;c++)t.push([n(s+je*c),n(s+je*(c+1))])}),_e=new De(Be),Me=new Te(function(e){return J.eq(e)}),$e=new Te(function(e){return Q.eq(e)})}function oe(){function a(e,t){var a,n=e.length,o=[],s=[];for(a=0;n>a;a++)e[a].allDay?o.push(e[a]):s.push(e[a]);g("allDaySlot")&&(q(o,t),C()),r(i(s),t)}function n(){x().empty(),D().empty()}function i(e){var t,a,n,i,r,s=$(),l=G(),d=V(),c=[];for(a=0;s>a;a++)for(t=M(0,a),r=o(e,t.clone().time(l),t.clone().time(d)),r=re(r),n=0;n<r.length;n++)i=r[n],i.col=a,c.push(i);return c}function o(e,t,a){t=t.clone().stripZone(),a=a.clone().stripZone();var n,i,o,r,s,l,d,c,u=[],f=e.length;for(n=0;f>n;n++)i=e[n],o=i.start.clone().stripZone(),r=Q(i).stripZone(),r>t&&a>o&&(t>o?(s=t.clone(),d=!1):(s=o,d=!0),r>a?(l=a.clone(),c=!1):(l=r,c=!0),u.push({event:i,start:s,end:l,isStart:d,isEnd:c}));return u.sort(pe)}function r(t,a){var n,i,o,r,d,c,u,f,v,m,w,y,C,x,j,k,_=t.length,M="",$=D(),L=g("isRTL");for(n=0;_>n;n++)i=t[n],o=i.event,r=T(i.start,i.start),d=T(i.end,i.start),c=E(i.col),u=B(i.col),f=u-c,u-=.025*f,f=u-c,v=f*(i.forwardCoord-i.backwardCoord),g("slotEventOverlap")&&(v=Math.max(2*(v-10),v)),L?(w=u-i.backwardCoord*f,m=w-v):(m=c+i.backwardCoord*f,w=m+v),m=Math.max(m,c),w=Math.min(w,u),v=w-m,i.top=r,i.left=m,i.outerWidth=v,i.outerHeight=d-r,M+=s(o,i);for($[0].innerHTML=M,y=$.children(),n=0;_>n;n++)i=t[n],o=i.event,C=e(y[n]),x=h("eventRender",o,o,C),x===!1?C.remove():(x&&x!==!0&&(C.remove(),C=e(x).css({position:"absolute",top:i.top,left:i.left}).appendTo($)),i.element=C,o._id===a?l(o,C,i):C[0]._fci=n,F(o,C));for(p($,t,l),n=0;_>n;n++)i=t[n],(C=i.element)&&(i.vsides=S(C,!0),i.hsides=b(C,!0),j=C.find(".fc-event-title"),j.length&&(i.contentTop=j[0].offsetTop));for(n=0;_>n;n++)i=t[n],(C=i.element)&&(C[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",k=Math.max(0,i.outerHeight-i.vsides),C[0].style.height=k+"px",o=i.event,void 0!==i.contentTop&&k-i.contentTop<10&&(C.find("div.fc-event-time").text(J(o.start,g("timeFormat"))+" - "+o.title),C.find("div.fc-event-title").remove()),h("eventAfterRender",o,o,C))}function s(e,t){var a="<",n=e.url,i=P(e,g),o=["fc-event","fc-event-vert"];return v(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),a+=n?"a href='"+_(e.url)+"'":"div",a+=" class='"+o.join(" ")+"' style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;"+i+"'><div class='fc-event-inner'><div class='fc-event-time'>"+_(f.getEventTimeText(e))+"</div><div class='fc-event-title'>"+_(e.title||"")+"</div></div><div class='fc-event-bg'></div>",t.isEnd&&w(e)&&(a+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),a+="</"+(n?"a":"div")+">"}function l(e,t,a){var n=t.find("div.fc-event-time");v(e)&&c(e,t,n),a.isEnd&&w(e)&&u(e,t,n),y(e,t)}function d(e,a,n){function i(){d||(a.width(o).height("").draggable("option","grid",null),d=!0)}var o,r,s,l=n.isStart,d=!0,c=j(),u=L(),f=G(),p=R(),v=A(),b=W(),w=I();a.draggable({opacity:g("dragOpacity","month"),revertDuration:g("dragRevertDuration"),start:function(t,n){h("eventDragStart",a[0],e,t,n),N(e,a),o=a.width(),c.start(function(t,n){if(Z(),t){r=!1;var o=M(0,n.col),c=M(0,t.col);s=c.diff(o,"days"),t.row?l?d&&(a.width(u-10),m(a,U.defaultTimedEventDuration/p*v),a.draggable("option","grid",[u,1]),d=!1):r=!0:(K(e.start.clone().add("days",s),Q(e).add("days",s)),i()),r=r||d&&!s}else i(),r=!0;a.draggable("option","revert",r)},t,"drag")},stop:function(n,o){if(c.stop(),Z(),h("eventDragStop",a[0],e,n,o),r)i(),a.css("filter",""),O(e,a);else{var l,u,g=e.start.clone().add("days",s);d||(u=Math.round((a.offset().top-z().offset().top)/w),l=t.duration(f+u*b),g=U.rezoneDate(g.clone().time(l))),H(a[0],e,g,n,o)}}})}function c(e,t,a){function n(){Z(),s&&(d?(a.hide(),t.draggable("option","grid",null),K(w,y)):(i(),a.css("display",""),t.draggable("option","grid",[x,D])))}function i(){w&&a.text(f.getEventTimeText(w,e.end?y:null))}var o,r,s,l,d,c,u,p,v,m,b,w,y,C=f.getCoordinateGrid(),S=$(),x=L(),D=I(),j=W();t.draggable({scroll:!1,grid:[x,D],axis:1==S&&"y",opacity:g("dragOpacity"),revertDuration:g("dragRevertDuration"),start:function(a,n){h("eventDragStart",t[0],e,a,n),N(e,t),C.build(),o=t.position(),r=C.cell(a.pageX,a.pageY),s=l=!0,d=c=k(r),u=p=0,v=0,m=b=0,w=null,y=null},drag:function(a,i){var f=C.cell(a.pageX,a.pageY);if(s=!!f){if(d=k(f),u=Math.round((i.position.left-o.left)/x),u!=p){var g=M(0,r.col),h=r.col+u;h=Math.max(0,h),h=Math.min(S-1,h);var T=M(0,h);v=T.diff(g,"days")}d||(m=Math.round((i.position.top-o.top)/D))}(s!=l||d!=c||u!=p||m!=b)&&(d?(w=e.start.clone().stripTime().add("days",v),y=w.clone().add(U.defaultAllDayEventDuration)):(w=e.start.clone().add(m*j).add("days",v),y=Q(e).add(m*j).add("days",v)),n(),l=s,c=d,p=u,b=m),t.draggable("option","revert",!s)},stop:function(a,i){Z(),h("eventDragStop",t[0],e,a,i),s&&(d||v||m)?H(t[0],e,w,a,i):(s=!0,d=!1,u=0,v=0,m=0,n(),t.css("filter",""),t.css(o),O(e,t))}})}function u(e,t,a){var n,i,o,r=I(),s=W();t.resizable({handles:{s:".ui-resizable-handle"},grid:r,start:function(a,o){n=i=0,N(e,t),h("eventResizeStart",t[0],e,a,o)},resize:function(l,d){if(n=Math.round((Math.max(r,t.height())-d.originalSize.height)/r),n!=i){o=Q(e).add(s*n);var c;c=n?f.getEventTimeText(e.start,o):f.getEventTimeText(e),a.text(c),i=n}},stop:function(a,i){h("eventResizeStop",t[0],e,a,i),n?Y(t[0],e,o,a,i):O(e,t)}})}var f=this;f.renderEvents=a,f.clearEvents=n,f.slotSegHtml=s,me.call(f);var g=f.opt,h=f.trigger,v=f.isEventDraggable,w=f.isEventResizable,y=f.eventElementHandlers,C=f.setHeight,x=f.getDaySegmentContainer,D=f.getSlotSegmentContainer,j=f.getHoverListener,T=f.computeDateTop,k=f.getIsCellAllDay,E=f.colContentLeft,B=f.colContentRight,M=f.cellToDate,$=f.getColCnt,L=f.getColWidth,I=f.getSnapHeight,W=f.getSnapDuration,A=f.getSlotHeight,R=f.getSlotDuration,z=f.getSlotContainer,F=f.reportEventElement,O=f.showEvents,N=f.hideEvents,H=f.eventDrop,Y=f.eventResize,K=f.renderDayOverlay,Z=f.clearOverlays,q=f.renderDayEvents,G=f.getMinTime,V=f.getMaxTime,U=f.calendar,J=U.formatDate,Q=U.getEventEnd;f.draggableDayEvent=d}function re(e){var t,a=se(e),n=a[0];if(le(a),n){for(t=0;t<n.length;t++)de(n[t]);for(t=0;t<n.length;t++)ce(n[t],0,0)}return ue(a)}function se(e){var t,a,n,i=[];for(t=0;t<e.length;t++){for(a=e[t],n=0;n<i.length&&fe(a,i[n]).length;n++);(i[n]||(i[n]=[])).push(a)}return i}function le(e){var t,a,n,i,o;for(t=0;t<e.length;t++)for(a=e[t],n=0;n<a.length;n++)for(i=a[n],i.forwardSegs=[],o=t+1;o<e.length;o++)fe(i,e[o],i.forwardSegs)}function de(e){var t,a,n=e.forwardSegs,i=0;if(void 0===e.forwardPressure){for(t=0;t<n.length;t++)a=n[t],de(a),i=Math.max(i,1+a.forwardPressure);e.forwardPressure=i}}function ce(e,t,a){var n,i=e.forwardSegs;if(void 0===e.forwardCoord)for(i.length?(i.sort(he),ce(i[0],t+1,a),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-a)/(t+1),n=0;n<i.length;n++)ce(i[n],0,e.forwardCoord)}function ue(e){var t,a,n,i=[];for(t=0;t<e.length;t++)for(a=e[t],n=0;n<a.length;n++)i.push(a[n]);return i}function fe(e,t,a){a=a||[];for(var n=0;n<t.length;n++)ge(e,t[n])&&a.push(t[n]);return a}function ge(e,t){return e.end>t.start&&e.start<t.end}function he(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||pe(e,t)}function pe(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function ve(a,n,i){function o(t,a){var n=A[t];return e.isPlainObject(n)&&!r(t)?B(n,a||i):n}function s(e,t){return n.trigger.apply(n,[e,t||$].concat(Array.prototype.slice.call(arguments,2),[$]))}function l(e){var t=e.source||{};return W(e.startEditable,t.startEditable,o("eventStartEditable"),e.editable,t.editable,o("editable"))}function d(e){var t=e.source||{};return W(e.durationEditable,t.durationEditable,o("eventDurationEditable"),e.editable,t.editable,o("editable"))}function c(){P={},I=[]}function u(e,t){I.push({event:e,element:t}),P[e._id]?P[e._id].push(t):P[e._id]=[t]}function f(){e.each(I,function(e,t){$.trigger("eventDestroy",t.event,t.event,t.element)})}function g(e,t){t.click(function(a){return t.hasClass("ui-draggable-dragging")||t.hasClass("ui-resizable-resizing")?void 0:s("eventClick",this,e,a)}).hover(function(t){s("eventMouseover",this,e,t)},function(t){s("eventMouseout",this,e,t)})}function h(e,t){v(e,t,"show")}function p(e,t){v(e,t,"hide")}function v(e,t,a){var n,i=P[e._id],o=i.length;for(n=0;o>n;n++)t&&i[n][0]==t[0]||i[n][a]()}function m(e,t,a,i,o){var r=n.mutateEvent(t,a,null);s("eventDrop",e,t,r.dateDelta,function(){r.undo(),L(t._id)},i,o),L(t._id)}function b(e,t,a,i,o){var r=n.mutateEvent(t,null,a);s("eventResize",e,t,r.durationDelta,function(){r.undo(),L(t._id)},i,o),L(t._id)}function w(e){return t.isMoment(e)&&(e=e.day()),O[e]}function y(){return z}function C(e,t,a){var n=e.clone();for(t=t||1;O[(n.day()+(a?t:0)+7)%7];)n.add("days",t);return n}function S(){var e=x.apply(null,arguments),t=D(e),a=j(t);return a}function x(e,t){var a=$.getColCnt(),n=Y?-1:1,i=Y?a-1:0;"object"==typeof e&&(t=e.col,e=e.row);var o=e*a+(t*n+i);return o}function D(e){var t=$.start.day();return e+=N[t],7*Math.floor(e/z)+H[(e%z+z)%z]-t}function j(e){return $.start.clone().add("days",e)}function T(e){var t=k(e),a=E(t),n=_(a);return n}function k(e){return e.clone().stripTime().diff($.start,"days")}function E(e){var t=$.start.day();return e+=t,Math.floor(e/7)*z+N[(e%7+7)%7]-N[t]}function _(e){var t=$.getColCnt(),a=Y?-1:1,n=Y?t-1:0,i=Math.floor(e/t),o=(e%t+t)%t*a+n;return{row:i,col:o}}function M(e,t){var a=$.getRowCnt(),n=$.getColCnt(),i=[],o=k(e),r=k(t),s=+t.time();s&&s>=R&&r++,r=Math.max(r,o+1);for(var l=E(o),d=E(r)-1,c=0;a>c;c++){var u=c*n,f=u+n-1,g=Math.max(l,u),h=Math.min(d,f);if(h>=g){var p=_(g),v=_(h),m=[p.col,v.col].sort(),b=D(g)==o,w=D(h)+1==r;i.push({row:c,leftCol:m[0],rightCol:m[1],isStart:b,isEnd:w})}}return i}var $=this;$.element=a,$.calendar=n,$.name=i,$.opt=o,$.trigger=s,$.isEventDraggable=l,$.isEventResizable=d,$.clearEventData=c,$.reportEventElement=u,$.triggerEventDestroy=f,$.eventElementHandlers=g,$.showEvents=h,$.hideEvents=p,$.eventDrop=m,$.eventResize=b;var L=n.reportEventChange,P={},I=[],A=n.options,R=t.duration(A.nextDayThreshold);$.getEventTimeText=function(e){var t,a;return 2===arguments.length?(t=arguments[0],a=arguments[1]):(t=e.start,a=e.end),a&&o("displayEventEnd")?n.formatRange(t,a,o("timeFormat")):n.formatDate(t,o("timeFormat"))},$.isHiddenDay=w,$.skipHiddenDays=C,$.getCellsPerWeek=y,$.dateToCell=T,$.dateToDayOffset=k,$.dayOffsetToCellOffset=E,$.cellOffsetToCell=_,$.cellToDate=S,$.cellToCellOffset=x,$.cellOffsetToDayOffset=D,$.dayOffsetToDate=j,$.rangeToSegments=M;var z,F=o("hiddenDays")||[],O=[],N=[],H=[],Y=o("isRTL");!function(){o("weekends")===!1&&F.push(0,6);
for(var t=0,a=0;7>t;t++)N[t]=a,O[t]=-1!=e.inArray(t,F),O[t]||(H[a]=t,a++);if(z=a,!z)throw"invalid hiddenDays"}()}function me(){function t(e,t){var a=n(e,!1,!0);we(a,function(e,t){k(e.event,t)}),m(a,t),we(a,function(e,t){D("eventAfterRender",e.event,e.event,t)})}function a(e,t,a){var i=n([e],!0,!1),o=[];return we(i,function(e,n){e.row===t&&n.css("top",a),o.push(n[0])}),o}function n(t,a,n){var o,l,u=Y(),f=a?e("<div/>"):u,g=i(t);return r(g),o=s(g),f[0].innerHTML=o,l=f.children(),a&&u.append(l),d(g,l),we(g,function(e,t){e.hsides=b(t,!0)}),we(g,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),we(g,function(e,t){e.outerHeight=t.outerHeight(!0)}),c(g,n),g}function i(e){for(var t=[],a=0;a<e.length;a++){var n=o(e[a]);t.push.apply(t,n)}return t}function o(e){for(var t=V(e.start,ae(e)),a=0;a<t.length;a++)t[a].event=e;return t}function r(e){for(var t=x("isRTL"),a=0;a<e.length;a++){var n=e[a],i=(t?n.isEnd:n.isStart)?N:F,o=(t?n.isStart:n.isEnd)?H:O,r=i(n.leftCol),s=o(n.rightCol);n.left=r,n.outerWidth=s-r}}function s(e){for(var t="",a=0;a<e.length;a++)t+=l(e[a]);return t}function l(e){var t="",a=x("isRTL"),n=e.event,i=n.url,o=["fc-event","fc-event-hori"];j(n)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(n.className),n.source&&(o=o.concat(n.source.className||[]));var r=P(n,x);return t+=i?"<a href='"+_(i)+"'":"<div",t+=" class='"+o.join(" ")+"' style='position:absolute;left:"+e.left+"px;"+r+"'><div class='fc-event-inner'>",!n.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+_(S.getEventTimeText(n))+"</span>"),t+="<span class='fc-event-title'>"+_(n.title||"")+"</span></div>",n.allDay&&e.isEnd&&T(n)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(a?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),t+="</"+(i?"a":"div")+">"}function d(t,a){for(var n=0;n<t.length;n++){var i=t[n],o=i.event,r=a.eq(n),s=D("eventRender",o,o,r);s===!1?r.remove():(s&&s!==!0&&(s=e(s).css({position:"absolute",left:i.left}),r.replaceWith(s),r=s),i.element=r)}}function c(e,t){var a,n=u(e),i=v(),o=[];if(t)for(a=0;a<i.length;a++)i[a].height(n[a]);for(a=0;a<i.length;a++)o.push(i[a].position().top);we(e,function(e,t){t.css("top",o[e.row]+e.top)})}function u(e){for(var t,a=A(),n=R(),i=[],o=f(e),r=0;a>r;r++){var s=o[r],l=[];for(t=0;n>t;t++)l.push(0);for(var d=0;d<s.length;d++){var c=s[d];for(c.top=E(l.slice(c.leftCol,c.rightCol+1)),t=c.leftCol;t<=c.rightCol;t++)l[t]=c.top+c.outerHeight}i.push(E(l))}return i}function f(e){var t,a,n,i=A(),o=[];for(t=0;t<e.length;t++)a=e[t],n=a.row,a.element&&(o[n]?o[n].push(a):o[n]=[a]);for(n=0;i>n;n++)o[n]=g(o[n]||[]);return o}function g(e){for(var t=[],a=h(e),n=0;n<a.length;n++)t.push.apply(t,a[n]);return t}function h(e){e.sort(ye);for(var t=[],a=0;a<e.length;a++){for(var n=e[a],i=0;i<t.length&&be(n,t[i]);i++);t[i]?t[i].push(n):t[i]=[n]}return t}function v(){var e,t=A(),a=[];for(e=0;t>e;e++)a[e]=z(e).find("div.fc-day-content > div");return a}function m(e,t){var a=Y();we(e,function(e,a,n){var i=e.event;i._id===t?w(i,a,e):a[0]._fci=n}),p(a,e,w)}function w(e,t,a){j(e)&&S.draggableDayEvent(e,t,a),e.allDay&&a.isEnd&&T(e)&&S.resizableDayEvent(e,t,a),B(e,t)}function y(e,t){var a,n,i=G();t.draggable({delay:50,opacity:x("dragOpacity"),revertDuration:x("dragRevertDuration"),start:function(o,r){D("eventDragStart",t[0],e,o,r),L(e,t),i.start(function(i,o,r,s){if(t.draggable("option","revert",!i||!r&&!s),Z(),i){var l=U(o),d=U(i);a=d.diff(l,"days"),n=e.start.clone().add("days",a),K(n,ae(e).add("days",a))}else a=0},o,"drag")},stop:function(o,r){i.stop(),Z(),D("eventDragStop",t[0],e,o,r),a?I(t[0],e,n,o,r):(t.css("filter",""),M(e,t))}})}function C(t,n,i){var o=x("isRTL"),r=o?"w":"e",s=n.find(".ui-resizable-"+r),l=!1;$(n),n.mousedown(function(e){e.preventDefault()}).click(function(e){l&&(e.preventDefault(),e.stopImmediatePropagation())}),s.mousedown(function(o){function s(a){D("eventResizeStop",n[0],t,a,{}),e("body").css("cursor",""),f.stop(),Z(),d&&W(n[0],t,c,a,{}),setTimeout(function(){l=!1},0)}if(1==o.which){l=!0;var d,c,u,f=G(),g=n.css("top"),h=e.extend({},t),p=ee(X(t.start));q(),e("body").css("cursor",r+"-resize").one("mouseup",s),D("eventResizeStart",n[0],t,o,{}),f.start(function(n,o){if(n){var s=J(o),l=J(n);if(l=Math.max(l,p),d=Q(l)-Q(s),c=ae(t).add("days",d),d){h.end=c;var f=u;u=a(h,i.row,g),u=e(u),u.find("*").css("cursor",r+"-resize"),f&&f.remove(),L(t)}else u&&(M(t),u.remove(),u=null);Z(),K(t.start,c)}},o)}})}var S=this;S.renderDayEvents=t,S.draggableDayEvent=y,S.resizableDayEvent=C;var x=S.opt,D=S.trigger,j=S.isEventDraggable,T=S.isEventResizable,k=S.reportEventElement,B=S.eventElementHandlers,M=S.showEvents,L=S.hideEvents,I=S.eventDrop,W=S.eventResize,A=S.getRowCnt,R=S.getColCnt,z=S.allDayRow,F=S.colLeft,O=S.colRight,N=S.colContentLeft,H=S.colContentRight,Y=S.getDaySegmentContainer,K=S.renderDayOverlay,Z=S.clearOverlays,q=S.clearSelection,G=S.getHoverListener,V=S.rangeToSegments,U=S.cellToDate,J=S.cellToCellOffset,Q=S.cellOffsetToDayOffset,X=S.dateToDayOffset,ee=S.dayOffsetToCellOffset,te=S.calendar,ae=te.getEventEnd}function be(e,t){for(var a=0;a<t.length;a++){var n=t[a];if(n.leftCol<=e.rightCol&&n.rightCol>=e.leftCol)return!0}return!1}function we(e,t){for(var a=0;a<e.length;a++){var n=e[a],i=n.element;i&&t(n,i,a)}}function ye(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function Ce(){function t(t){var a=d("unselectCancel");a&&e(t.target).parents(a).length||n(t)}function a(e,t){n(),e=l.moment(e),t=t?l.moment(t):u(e),f(e,t),i(e,t)}function n(e){h&&(h=!1,g(),c("unselect",null,e))}function i(e,t,a){h=!0,c("select",null,e,t,a)}function o(t){var a=s.cellToDate,o=s.getIsCellAllDay,r=s.getHoverListener(),l=s.reportDayClick;if(1==t.which&&d("selectable")){n(t);var c;r.start(function(e,t){g(),e&&o(e)?(c=[a(t),a(e)].sort(k),f(c[0],c[1].clone().add("days",1))):c=null},t),e(document).one("mouseup",function(e){r.stop(),c&&(+c[0]==+c[1]&&l(c[0],e),i(c[0],c[1].clone().add("days",1),e))})}}function r(){e(document).off("mousedown",t)}var s=this;s.select=a,s.unselect=n,s.reportSelection=i,s.daySelectionMousedown=o,s.selectionManagerDestroy=r;var l=s.calendar,d=s.opt,c=s.trigger,u=s.defaultSelectionEnd,f=s.renderSelection,g=s.clearSelection,h=!1;d("selectable")&&d("unselectAuto")&&e(document).on("mousedown",t)}function Se(){function t(t,a){var n=o.shift();return n||(n=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),n[0].parentNode!=a[0]&&n.appendTo(a),i.push(n.css(t).show()),n}function a(){for(var e;e=i.shift();)o.push(e.hide().unbind())}var n=this;n.renderOverlay=t,n.clearOverlays=a;var i=[],o=[]}function xe(e){var t,a,n=this;n.build=function(){t=[],a=[],e(t,a)},n.cell=function(e,n){var i,o=t.length,r=a.length,s=-1,l=-1;for(i=0;o>i;i++)if(n>=t[i][0]&&n<t[i][1]){s=i;break}for(i=0;r>i;i++)if(e>=a[i][0]&&e<a[i][1]){l=i;break}return s>=0&&l>=0?{row:s,col:l}:null},n.rect=function(e,n,i,o,r){var s=r.offset();return{top:t[e][0]-s.top,left:a[n][0]-s.left,width:a[o][1]-a[n][0],height:t[i][1]-t[e][0]}}}function De(t){function a(e){je(e);var a=t.cell(e.pageX,e.pageY);(Boolean(a)!==Boolean(r)||a&&(a.row!=r.row||a.col!=r.col))&&(a?(o||(o=a),i(a,o,a.row-o.row,a.col-o.col)):i(a,o),r=a)}var n,i,o,r,s=this;s.start=function(s,l,d){i=s,o=r=null,t.build(),a(l),n=d||"mousemove",e(document).bind(n,a)},s.stop=function(){return e(document).unbind(n,a),r}}function je(e){void 0===e.pageX&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Te(e){function t(t){return n[t]=n[t]||e(t)}var a=this,n={},i={},o={};a.left=function(e){return i[e]=void 0===i[e]?t(e).position().left:i[e]},a.right=function(e){return o[e]=void 0===o[e]?a.left(e)+t(e).width():o[e]},a.clear=function(){n={},i={},o={}}}var ke={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:n,day:"dddd"},timeFormat:{"default":a},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0,windowResizeDelay:200},Ee={en:{columnFormat:{week:"ddd M/D"}}},Be={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},_e=e.fullCalendar={version:"2.0.2"},Me=_e.views={};e.fn.fullCalendar=function(t){var a=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(i,o){var r,l=e(o),d=l.data("fullCalendar");"string"==typeof t?d&&e.isFunction(d[t])&&(r=d[t].apply(d,a),i||(n=r),"destroy"===t&&l.removeData("fullCalendar")):d||(d=new s(l,t),l.data("fullCalendar",d),d.render())}),n},_e.langs=Ee,_e.datepickerLang=function(t,a,n){var i=Ee[t];i||(i=Ee[t]={}),o(i,{isRTL:n.isRTL,weekNumberTitle:n.weekHeader,titleFormat:{month:n.showMonthAfterYear?"YYYY["+n.yearSuffix+"] MMMM":"MMMM YYYY["+n.yearSuffix+"]"},defaultButtonText:{prev:M(n.prevText),next:M(n.nextText),today:M(n.currentText)}}),e.datepicker&&(e.datepicker.regional[a]=e.datepicker.regional[t]=n,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(n))},_e.lang=function(e,t){var a;t&&(a=Ee[e],a||(a=Ee[e]={}),o(a,t||{})),ke.lang=e},_e.sourceNormalizers=[],_e.sourceFetchers=[];var $e={dataType:"json",cache:!1},Le=1;_e.applyAll=I;var Pe=["sun","mon","tue","wed","thu","fri","sat"],Ie=/^\s*\d{4}-\d\d$/,We=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;_e.moment=function(){return A(arguments)},_e.moment.utc=function(){var e=A(arguments,!0);return e.hasTime()&&e.utc(),e},_e.moment.parseZone=function(){return A(arguments,!0,!0)},R.prototype=u(t.fn),R.prototype.clone=function(){return A([this])},R.prototype.time=function(e){if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});delete this._ambigTime,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var a=0;return t.isDuration(e)&&(a=24*Math.floor(e.asDays())),this.hours(a+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},R.prototype.stripTime=function(){var e=this.toArray();return t.fn.utc.call(this),this.year(e[0]).month(e[1]).date(e[2]).hours(0).minutes(0).seconds(0).milliseconds(0),this._ambigTime=!0,this._ambigZone=!0,this},R.prototype.hasTime=function(){return!this._ambigTime},R.prototype.stripZone=function(){var e=this.toArray(),a=this._ambigTime;return t.fn.utc.call(this),this.year(e[0]).month(e[1]).date(e[2]).hours(e[3]).minutes(e[4]).seconds(e[5]).milliseconds(e[6]),a&&(this._ambigTime=!0),this._ambigZone=!0,this},R.prototype.hasZone=function(){return!this._ambigZone},R.prototype.zone=function(e){return null!=e&&(delete this._ambigTime,delete this._ambigZone),t.fn.zone.apply(this,arguments)},R.prototype.local=function(){var e=this.toArray(),a=this._ambigZone;return delete this._ambigTime,delete this._ambigZone,t.fn.local.apply(this,arguments),a&&this.year(e[0]).month(e[1]).date(e[2]).hours(e[3]).minutes(e[4]).seconds(e[5]).milliseconds(e[6]),this},R.prototype.utc=function(){return delete this._ambigTime,delete this._ambigZone,t.fn.utc.apply(this,arguments)},R.prototype.format=function(){return arguments[0]?O(this,arguments[0]):this._ambigTime?F(this,"YYYY-MM-DD"):this._ambigZone?F(this,"YYYY-MM-DD[T]HH:mm:ss"):F(this)},R.prototype.toISOString=function(){return this._ambigTime?F(this,"YYYY-MM-DD"):this._ambigZone?F(this,"YYYY-MM-DD[T]HH:mm:ss"):t.fn.toISOString.apply(this,arguments)},R.prototype.isWithin=function(e,t){var a=z([this,e,t]);return a[0]>=a[1]&&a[0]<a[2]},e.each(["isBefore","isAfter","isSame"],function(e,a){R.prototype[a]=function(e,n){var i=z([this,e]);return t.fn[a].call(i[0],i[1],n)}});var Ae={t:function(e){return F(e,"a").charAt(0)},T:function(e){return F(e,"A").charAt(0)}};_e.formatRange=Y;var Re={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ze={};Me.month=V,Me.basicWeek=U,Me.basicDay=J,i({weekMode:"fixed"}),Me.agendaWeek=ee,Me.agendaDay=te,i({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:ae,timeFormat:{agenda:ne},dragOpacity:{agenda:.5},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0})}),jQuery(document).ready(function(){$("body").append("<div id='divSmallBoxes'></div>"),$("body").append("<div id='divMiniIcons'></div><div id='divbigBoxes'></div>")});var ExistMsg=0,SmartMSGboxCount=0,PrevTop=0;$.SmartMessageBox=function(e,t){var a,n;e=$.extend({title:"",content:"",NormalButton:void 0,ActiveButton:void 0,buttons:void 0,input:void 0,inputValue:void 0,placeholder:"",options:void 0},e);var i=0;if(i=1,0==isIE8orlower()&&$.sound_on){var o=document.createElement("audio");o.setAttribute("src",$.sound_path+"messagebox.mp3"),o.addEventListener("load",function(){o.play()},!0),o.pause(),o.play()}SmartMSGboxCount+=1,0==ExistMsg&&(ExistMsg=1,a="<div class='divMessageBox animated fadeIn fast' id='MsgBoxBack'></div>",$("body").append(a),1==isIE8orlower()&&$("#MsgBoxBack").addClass("MessageIE"));var r="",s=0;if(void 0!=e.input)switch(s=1,e.input=e.input.toLowerCase(),e.input){case"text":e.inputValue="string"===$.type(e.inputValue)?e.inputValue.replace(/'/g,"&#x27;"):e.inputValue,r="<input class='form-control' type='"+e.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+e.placeholder+"' value='"+e.inputValue+"'/><br/><br/>";break;case"password":r="<input class='form-control' type='"+e.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+e.placeholder+"'/><br/><br/>";break;case"select":if(void 0==e.options)alert("For this type of input, the options parameter is required.");else{r="<select class='form-control' id='txt"+SmartMSGboxCount+"'>";for(var l=0;l<=e.options.length-1;l++)"["==e.options[l]?d="":"]"==e.options[l]?(c+=1,d="<option>"+d+"</option>",r+=d):d+=e.options[l];r+="</select>"}break;default:alert("That type of input is not handled yet")}n="<div class='MessageBoxContainer animated fadeIn fast' id='Msg"+SmartMSGboxCount+"'>",n+="<div class='MessageBoxMiddle'>",n+="<span class='MsgTitle'>"+e.title+"</span class='MsgTitle'>",n+="<p class='pText'>"+e.content+"</p>",n+=r,n+="<div class='MessageBoxButtonSection'>",void 0==e.buttons&&(e.buttons="[Accept]"),e.buttons=$.trim(e.buttons),e.buttons=e.buttons.split("");var d="",c=0;void 0==e.NormalButton&&(e.NormalButton="#232323"),void 0==e.ActiveButton&&(e.ActiveButton="#ed145b");for(var l=0;l<=e.buttons.length-1;l++)"["==e.buttons[l]?d="":"]"==e.buttons[l]?(c+=1,d="<button id='bot"+c+"-Msg"+SmartMSGboxCount+"' class='btn btn-default btn-sm botTempo'> "+d+"</button>",n+=d):d+=e.buttons[l];n+="</div>",n+="</div>",n+="</div>",SmartMSGboxCount>1&&($(".MessageBoxContainer").hide(),$(".MessageBoxContainer").css("z-index",99999)),$(".divMessageBox").append(n),1==s&&$("#txt"+SmartMSGboxCount).focus(),$(".botTempo").hover(function(){$(this).attr("id")},function(){$(this).attr("id")}),$(".botTempo").click(function(){var e=$(this).attr("id"),a=e.substr(e.indexOf("-")+1),n=$.trim($(this).text());if(1==s){if("function"==typeof t){var i=a.replace("Msg",""),o=$("#txt"+i).val();t&&t(n,o)}}else"function"==typeof t&&t&&t(n);$("#"+a).addClass("animated fadeOut fast"),SmartMSGboxCount-=1,0==SmartMSGboxCount&&$("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){ExistMsg=0,$(this).remove()})})};var BigBoxes=0;$.bigBox=function(e,t){var a;if(e=$.extend({title:"",content:"",icon:void 0,number:void 0,color:void 0,sound:$.sound_on,sound_file:"bigbox",timeout:void 0,colortime:1500,colors:void 0},e),e.sound&&0==isIE8orlower()){var n=document.createElement("audio");navigator.userAgent.match("Firefox/")?n.setAttribute("src",$.sound_path+e.sound_file+".ogg"):n.setAttribute("src",$.sound_path+e.sound_file+".mp3"),n.addEventListener("load",function(){n.play()},!0),n.pause(),n.play()}BigBoxes+=1,a="<div id='bigBox"+BigBoxes+"' class='bigBox animated fadeIn fast'><div id='bigBoxColor"+BigBoxes+"'><i class='botClose fa fa-times' id='botClose"+BigBoxes+"'></i>",a+="<span>"+e.title+"</span>",a+="<p>"+e.content+"</p>",a+="<div class='bigboxicon'>",void 0==e.icon&&(e.icon="fa fa-cloud"),a+="<i class='"+e.icon+"'></i>",a+="</div>",a+="<div class='bigboxnumber'>",void 0!=e.number&&(a+=e.number),a+="</div></div>",a+="</div>",$("#divbigBoxes").append(a),void 0==e.color&&(e.color="#004d60"),$("#bigBox"+BigBoxes).css("background-color",e.color),$("#divMiniIcons").append("<div id='miniIcon"+BigBoxes+"' class='cajita animated fadeIn' style='background-color: "+e.color+";'><i class='"+e.icon+"'/></i></div>"),$("#miniIcon"+BigBoxes).bind("click",function(){var e=$(this).attr("id"),t=e.replace("miniIcon","bigBox"),a=e.replace("miniIcon","bigBoxColor");$(".cajita").each(function(){var e=$(this).attr("id"),t=e.replace("miniIcon","bigBox");$("#"+t).css("z-index",9998)}),$("#"+t).css("z-index",9999),$("#"+a).removeClass("animated fadeIn").delay(1).queue(function(){$(this).show(),$(this).addClass("animated fadeIn"),$(this).clearQueue()})});var i,o=$("#botClose"+BigBoxes),r=$("#bigBox"+BigBoxes),s=$("#miniIcon"+BigBoxes);if(void 0!=e.colors&&e.colors.length>0&&(o.attr("colorcount","0"),i=setInterval(function(){var t=o.attr("colorcount");o.animate({backgroundColor:e.colors[t].color}),r.animate({backgroundColor:e.colors[t].color}),s.animate({backgroundColor:e.colors[t].color}),t<e.colors.length-1?o.attr("colorcount",1*t+1):o.attr("colorcount",0)},e.colortime)),o.bind("click",function(){clearInterval(i),"function"==typeof t&&t&&t();var e=$(this).attr("id"),a=e.replace("botClose","bigBox"),n=e.replace("botClose","miniIcon");$("#"+a).removeClass("fadeIn fast"),$("#"+a).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()}),$("#"+n).removeClass("fadeIn fast"),$("#"+n).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()})}),void 0!=e.timeout){var l=BigBoxes;setTimeout(function(){clearInterval(i),$("#bigBox"+l).removeClass("fadeIn fast"),$("#bigBox"+l).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()}),$("#miniIcon"+l).removeClass("fadeIn fast"),$("#miniIcon"+l).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()})},e.timeout)}};var SmallBoxes=0,SmallCount=0,SmallBoxesAnchos=0;$.smallBox=function(e,t){var a;if(e=$.extend({title:"",content:"",icon:void 0,iconSmall:void 0,sound:$.sound_on,sound_file:"smallbox",color:void 0,timeout:void 0,colortime:1500,colors:void 0},e),e.sound&&0==isIE8orlower()){var n=document.createElement("audio");navigator.userAgent.match("Firefox/")?n.setAttribute("src",$.sound_path+e.sound_file+".ogg"):n.setAttribute("src",$.sound_path+e.sound_file+".mp3"),n.addEventListener("load",function(){n.play()},!0),n.pause(),n.play()}SmallBoxes+=1,a="";var i="",o="smallbox"+SmallBoxes;if(i=void 0==e.iconSmall?"<div class='miniIcono'></div>":"<div class='miniIcono'><i class='miniPic "+e.iconSmall+"'></i></div>",a=void 0==e.icon?"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+e.title+"</span><p>"+e.content+"</p></div>"+i+"</div>":"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+e.icon+"'></i></div><div class='textoFoto'><span>"+e.title+"</span><p>"+e.content+"</p></div>"+i+"</div>",1==SmallBoxes)$("#divSmallBoxes").append(a),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40;else{var r=$(".SmallBox").size();0==r?($("#divSmallBoxes").append(a),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40):($("#divSmallBoxes").append(a),$("#smallbox"+SmallBoxes).css("top",SmallBoxesAnchos),SmallBoxesAnchos=SmallBoxesAnchos+$("#smallbox"+SmallBoxes).height()+20,$(".SmallBox").each(function(e){0==e?($(this).css("top",20),heightPrev=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).css("top",heightPrev),heightPrev=heightPrev+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)}))}var s=$("#smallbox"+SmallBoxes);void 0==e.color?s.css("background-color","#004d60"):s.css("background-color",e.color);var l;void 0!=e.colors&&e.colors.length>0&&(s.attr("colorcount","0"),l=setInterval(function(){var t=s.attr("colorcount");s.animate({backgroundColor:e.colors[t].color}),t<e.colors.length-1?s.attr("colorcount",1*t+1):s.attr("colorcount",0)},e.colortime)),void 0!=e.timeout&&setTimeout(function(){clearInterval(l);var e=$(this).height()+20;$("#"+o).css("top"),0!=$("#"+o+":hover").length?$("#"+o).on("mouseleave",function(){SmallBoxesAnchos-=e,$("#"+o).remove(),"function"==typeof t&&t&&t();var a=0;$(".SmallBox").each(function(e){0==e?($(this).animate({top:20},300),a=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:a},350),a=a+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})}):(clearInterval(l),SmallBoxesAnchos-=e,"function"==typeof t&&t&&t(),$("#"+o).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){$(this).remove();var e=0;$(".SmallBox").each(function(t){0==t?($(this).animate({top:20},300),e=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:e}),e=e+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})}))},e.timeout),$("#smallbox"+SmallBoxes).bind("click",function(){clearInterval(l),"function"==typeof t&&t&&t();var e=$(this).height()+20;$(this).attr("id"),$(this).css("top"),SmallBoxesAnchos-=e,$(this).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){$(this).remove();var e=0;$(".SmallBox").each(function(t){0==t?($(this).animate({top:20},300),e=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:e},350),e=e+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})})})},!function(e,t,a,n){function i(t,a){this.obj=e(t),this.o=e.extend({},e.fn[o].defaults,a),this.objId=this.obj.attr("id"),this.pwCtrls=".jarviswidget-ctrls",this.widget=this.obj.find(this.o.widgets),this.toggleClass=this.o.toggleClass.split("|"),this.editClass=this.o.editClass.split("|"),this.fullscreenClass=this.o.fullscreenClass.split("|"),this.customClass=this.o.customClass.split("|"),this.storage={enabled:this.o.localStorage},this.initialized=!1,this.init()}var o="jarvisWidgets",r=("ontouchstart"in t||t.DocumentTouch&&a instanceof DocumentTouch?"touchstart":"click")+"."+o;i.prototype={_runLoaderWidget:function(e){var t=this;t.o.indicator===!0&&e.parents(t.o.widgets).find(".jarviswidget-loader:first").stop(!0,!0).fadeIn(100).delay(t.o.indicatorTime).fadeOut(100)},_getPastTimestamp:function(e){var t=this,a=new Date(e),n=a.getMonth()+1,i=a.getDate(),o=a.getFullYear(),r=a.getHours(),s=a.getMinutes(),l=a.getUTCSeconds();10>n&&(n="0"+n),10>i&&(i="0"+i),10>r&&(r="0"+r),10>s&&(s="0"+s),10>l&&(l="0"+l);var d=t.o.timestampFormat.replace(/%d%/g,i).replace(/%m%/g,n).replace(/%y%/g,o).replace(/%h%/g,r).replace(/%i%/g,s).replace(/%s%/g,l);return d},_loadAjaxFile:function(t,a,n){var i=this;t.find(".widget-body").load(a,function(a,n,o){var r=e(this);if("error"==n&&r.html('<h4 class="alert alert-danger">'+i.o.labelError+"<b> "+o.status+" "+o.statusText+"</b></h4>"),"success"==n){var s=t.find(i.o.timestampPlaceholder);s.length&&s.html(i._getPastTimestamp(new Date)),"function"==typeof i.o.afterLoad&&i.o.afterLoad.call(this,t)}i=null}),this._runLoaderWidget(n)},_loadKeys:function(){var e=this;if(e.o.ajaxnav===!0){var t=location.hash.replace(/^#/,"");e.storage.keySettings="Plugin_settings_"+t+"_"+e.objId,e.storage.keyPosition="Plugin_position_"+t+"_"+e.objId}else if(e.initialized===!1){var t=e.o.pageKey||location.pathname;e.storage.keySettings="jarvisWidgets_settings_"+t+"_"+e.objId,e.storage.keyPosition="jarvisWidgets_position_"+t+"_"+e.objId}},_saveSettingsWidget:function(){var t=this,a=t.storage;t._loadKeys();var n=t.obj.find(t.o.widgets).map(function(){var t={};return t.id=e(this).attr("id"),t.style=e(this).attr("data-widget-attstyle"),t.title=e(this).children("header").children("h2").text(),t.hidden="none"==e(this).css("display")?1:0,t.collapsed=e(this).hasClass("jarviswidget-collapsed")?1:0,t}).get(),i=JSON.stringify({widget:n});a.enabled&&a.getKeySettings!=i&&(localStorage.setItem(a.keySettings,i),a.getKeySettings=i),"function"==typeof t.o.onSave&&t.o.onSave.call(this,null,i,a.keySettings)},_savePositionWidget:function(){var t=this,a=t.storage;t._loadKeys();var n=t.obj.find(t.o.grid+".sortable-grid").map(function(){var a=e(this).children(t.o.widgets).map(function(){return{id:e(this).attr("id")}}).get();return{section:a}}).get(),i=JSON.stringify({grid:n});a.enabled&&a.getKeyPosition!=i&&(localStorage.setItem(a.keyPosition,i),a.getKeyPosition=i),"function"==typeof t.o.onSave&&t.o.onSave.call(this,i,a.keyPosition)},init:function(){var t=this;if(!t.initialized){if(t._initStorage(t.storage),e("#"+t.objId).length||alert("It looks like your using a class instead of an ID, dont do that!"),t.o.rtl===!0&&e("body").addClass("rtl"),e(t.o.grid).each(function(){e(this).find(t.o.widgets).length&&e(this).addClass("sortable-grid")}),t.storage.enabled&&t.storage.getKeyPosition){var a=JSON.parse(t.storage.getKeyPosition);for(var i in a.grid){var s=t.obj.find(t.o.grid+".sortable-grid").eq(i);for(var l in a.grid[i].section)s.append(e("#"+a.grid[i].section[l].id))}}if(t.storage.enabled&&t.storage.getKeySettings){var d=JSON.parse(t.storage.getKeySettings);for(var i in d.widget){var c=e("#"+d.widget[i].id);d.widget[i].style&&c.removeClassPrefix("jarviswidget-color-").addClass(d.widget[i].style).attr("data-widget-attstyle",""+d.widget[i].style),1==d.widget[i].hidden?c.hide(1):c.show(1).removeAttr("data-widget-hidden"),1==d.widget[i].collapsed&&c.addClass("jarviswidget-collapsed").children("div").hide(1),c.children("header").children("h2").text()!=d.widget[i].title&&c.children("header").children("h2").text(d.widget[i].title)}}if(t.widget.each(function(){var a,i,o,r,s,l,d,c,u=e(this),f=e(this).children("header");if(!f.parent().attr("role")){u.data("widget-hidden")===!0&&u.hide(),u.data("widget-collapsed")===!0&&u.addClass("jarviswidget-collapsed").children("div").hide(),a=t.o.customButton===!0&&u.data("widget-custombutton")===n&&0!==t.customClass[0].length?'<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+t.customClass[0]+'"></i></a>':"",i=t.o.deleteButton===!0&&u.data("widget-deletebutton")===n?'<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="Delete" data-placement="bottom"><i class="'+t.o.deleteClass+'"></i></a>':"",o=t.o.editButton===!0&&u.data("widget-editbutton")===n?'<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom"><i class="'+t.editClass[0]+'"></i></a>':"",r=t.o.fullscreenButton===!0&&u.data("widget-fullscreenbutton")===n?'<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="Fullscreen" data-placement="bottom"><i class="'+t.fullscreenClass[0]+'"></i></a>':"",t.o.colorButton===!0&&u.data("widget-colorbutton")===n?(s='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"></a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="Green Grass"></span></li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="Dark Green"></span></li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="Light Green"></span></li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="Purple"></span></li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="Magenta"></span></li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="Pink"></span></li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="Fade Pink"></span></li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="Light Blue"></span></li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="Teal"></span></li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="Ocean Blue"></span></li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="Night Sky"></span></li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="Night"></span></li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="Day Light"></span></li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"></span></li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="Dark Orange"></span></li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="Red Rose"></span></li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="Light Red"></span></li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"></span></li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="Reset widget color to default">Remove</a></li></ul>',f.prepend('<div class="widget-toolbar">'+s+"</div>")):s="",t.o.toggleButton===!0&&u.data("widget-togglebutton")===n?(d=u.data("widget-collapsed")===!0||u.hasClass("jarviswidget-collapsed")?t.toggleClass[1]:t.toggleClass[0],l='<a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Collapse" data-placement="bottom"><i class="'+d+'"></i></a>'):l="",c=t.o.refreshButton===!0&&u.data("widget-refreshbutton")!==!1&&u.data("widget-load")?'<a href="javascript:void(0);" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+t.o.refreshButtonClass+'"></i></a>':"";
var g=t.o.buttonOrder.replace(/%refresh%/g,c).replace(/%delete%/g,i).replace(/%custom%/g,a).replace(/%fullscreen%/g,r).replace(/%edit%/g,o).replace(/%toggle%/g,l);(""!==c||""!==i||""!==a||""!==r||""!==o||""!==l)&&f.prepend('<div class="jarviswidget-ctrls">'+g+"</div>"),t.o.sortable===!0&&u.data("widget-sortable")===n&&u.addClass("jarviswidget-sortable"),u.find(t.o.editPlaceholder).length&&u.find(t.o.editPlaceholder).find("input").val(e.trim(f.children("h2").text())),f.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span>'),u.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu")}}),t.o.buttonsHidden===!0&&e(t.o.pwCtrls).hide(),e(".jarviswidget header [rel=tooltip]").tooltip(),t.obj.find("[data-widget-load]").each(function(){var a=e(this),n=a.children(),i=a.data("widget-load"),o=1e3*a.data("widget-refresh");a.children(),a.find(".jarviswidget-ajax-placeholder").length||(a.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+t.o.loadingLabel+"</div>"),a.data("widget-refresh")>0?(t._loadAjaxFile(a,i,n),e.intervalArr.push(setInterval(function(){t._loadAjaxFile(a,i,n)},o))):t._loadAjaxFile(a,i,n))}),t.o.sortable===!0&&jQuery.ui){var u=t.obj.find(t.o.grid+".sortable-grid").not("[data-widget-excludegrid]");u.sortable({items:u.find(t.o.widgets+".jarviswidget-sortable"),connectWith:u,placeholder:t.o.placeholderClass,cursor:"move",revert:!0,opacity:t.o.opacity,delay:200,cancel:".button-icon, #jarviswidget-fullscreen-mode > div",zIndex:1e4,handle:t.o.dragHandle,forcePlaceholderSize:!0,forceHelperSize:!0,update:function(e,a){t._runLoaderWidget(a.item.children()),t._savePositionWidget(),"function"==typeof t.o.onChange&&t.o.onChange.call(this,a.item)}})}t.o.buttonsHidden===!0&&t.widget.children("header").on("mouseenter."+o,function(){e(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,1)}).on("mouseleave."+o,function(){e(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,0)}),t._clickEvents(),t.storage.enabled&&(e(t.o.deleteSettingsKey).on(r,this,function(e){var a=confirm(t.o.settingsKeyLabel);a&&localStorage.removeItem(keySettings),e.preventDefault()}),e(t.o.deletePositionKey).on(r,this,function(e){var a=confirm(t.o.positionKeyLabel);a&&localStorage.removeItem(keyPosition),e.preventDefault()})),initialized=!0}},_initStorage:function(e){e.enabled=e.enabled&&!!function(){var e,t=+new Date;try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e}catch(a){}}(),this._loadKeys(),e.enabled&&(e.getKeySettings=localStorage.getItem(e.keySettings),e.getKeyPosition=localStorage.getItem(e.keyPosition))},_clickEvents:function(){function a(){if(e("#jarviswidget-fullscreen-mode").length){var a=e(t).height(),i=e("#jarviswidget-fullscreen-mode").children(n.o.widgets).children("header").height();e("#jarviswidget-fullscreen-mode").children(n.o.widgets).children("div").height(a-i-15)}}var n=this,i=n.widget.children("header");i.on(r,".jarviswidget-toggle-btn",function(t){var a=e(this),i=a.parents(n.o.widgets);n._runLoaderWidget(a),i.hasClass("jarviswidget-collapsed")?a.children().removeClass(n.toggleClass[1]).addClass(n.toggleClass[0]).parents(n.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(n.o.toggleSpeed,function(){n._saveSettingsWidget()}):a.children().removeClass(n.toggleClass[0]).addClass(n.toggleClass[1]).parents(n.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(n.o.toggleSpeed,function(){n._saveSettingsWidget()}),"function"==typeof n.o.onToggle&&n.o.onToggle.call(this,i),t.preventDefault()}),i.on(r,".jarviswidget-fullscreen-btn",function(t){var i=e(this).parents(n.o.widgets),o=i.children("div");n._runLoaderWidget(e(this)),e("#jarviswidget-fullscreen-mode").length?(e(".nooverflow").removeClass("nooverflow"),i.unwrap("<div>").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn:first").children().removeClass(n.fullscreenClass[1]).addClass(n.fullscreenClass[0]).parents(n.pwCtrls).children("a").show(),o.hasClass("jarviswidget-visible")&&o.hide().removeClass("jarviswidget-visible")):(e("body").addClass("nooverflow"),i.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn:first").children().removeClass(n.fullscreenClass[0]).addClass(n.fullscreenClass[1]).parents(n.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),o.is(":hidden")&&o.show().addClass("jarviswidget-visible")),a(),"function"==typeof n.o.onFullscreen&&n.o.onFullscreen.call(this,i),t.preventDefault()}),e(t).on("resize."+o,function(){a()}),i.on(r,".jarviswidget-edit-btn",function(t){var a=e(this).parents(n.o.widgets);n._runLoaderWidget(e(this)),a.find(n.o.editPlaceholder).is(":visible")?e(this).children().removeClass(n.editClass[1]).addClass(n.editClass[0]).parents(n.o.widgets).find(n.o.editPlaceholder).slideUp(n.o.editSpeed,function(){n._saveSettingsWidget()}):e(this).children().removeClass(n.editClass[0]).addClass(n.editClass[1]).parents(n.o.widgets).find(n.o.editPlaceholder).slideDown(n.o.editSpeed),"function"==typeof n.o.onEdit&&n.o.onEdit.call(this,a),t.preventDefault()}),e(n.o.editPlaceholder).find("input").keyup(function(){e(this).parents(n.o.widgets).children("header").children("h2").text(e(this).val())}),i.on(r,"[data-widget-setstyle]",function(t){var a=e(this).data("widget-setstyle"),i="";e(this).parents(n.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){i+=e(this).data("widget-setstyle")+" "}),e(this).parents(n.o.widgets).attr("data-widget-attstyle",""+a).removeClassPrefix("jarviswidget-color-").addClass(a),n._runLoaderWidget(e(this)),n._saveSettingsWidget(),t.preventDefault()}),i.on(r,".jarviswidget-custom-btn",function(t){var a=e(this).parents(n.o.widgets);n._runLoaderWidget(e(this)),e(this).children("."+n.customClass[0]).length?(e(this).children().removeClass(n.customClass[0]).addClass(n.customClass[1]),"function"==typeof n.o.customStart&&n.o.customStart.call(this,a)):(e(this).children().removeClass(n.customClass[1]).addClass(n.customClass[0]),"function"==typeof n.o.customEnd&&n.o.customEnd.call(this,a)),n._saveSettingsWidget(),t.preventDefault()}),i.on(r,".jarviswidget-delete-btn",function(t){var a=e(this).parents(n.o.widgets),i=a.attr("id"),o=a.children("header").children("h2").text();e.SmartMessageBox?e.SmartMessageBox({title:"<i class='fa fa-times' style='color:#ed1c24'></i> "+n.o.labelDelete+' "'+o+'"',content:n.o.deleteMsg,buttons:"[No][Yes]"},function(t){"Yes"==t&&(n._runLoaderWidget(e(this)),e("#"+i).fadeOut(n.o.deleteSpeed,function(){e(this).remove(),"function"==typeof n.o.onDelete&&n.o.onDelete.call(this,a)}))}):e("#"+i).fadeOut(n.o.deleteSpeed,function(){e(this).remove(),"function"==typeof n.o.onDelete&&n.o.onDelete.call(this,a)}),t.preventDefault()}),i.on(r,".jarviswidget-refresh-btn",function(t){var a=e(this).parents(n.o.widgets),i=a.data("widget-load"),o=a.children(),r=e(this);r.button("loading"),o.addClass("widget-body-ajax-loading"),setTimeout(function(){r.button("reset"),o.removeClass("widget-body-ajax-loading"),n._loadAjaxFile(a,i,o)},1e3),t.preventDefault()}),i=null},destroy:function(){var a=this,n="."+o,i=a.obj.find(a.o.grid+".sortable-grid").not("[data-widget-excludegrid]");i.sortable("destroy"),a.widget.children("header").off(n),e(a.o.deleteSettingsKey).off(n),e(a.o.deletePositionKey).off(n),e(t).off(n),a.obj.removeData(o)}},e.fn[o]=function(t){return this.each(function(){var a=e(this),n=a.data(o);if(!n){var r="object"==typeof t&&t;a.data(o,n=new i(this,r))}"string"==typeof t&&n[t]()})},e.fn[o].defaults={grid:"section",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"",settingsKeyLabel:"Reset settings?",deletePositionKey:"",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"min-10 | plus-10",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone",deleteClass:"trashcan-10",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"pencil-10 | delete-10",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fullscreen-10 | normalscreen-10",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,loadingLabel:"loading...",timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"refresh-10",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0},e.fn.removeClassPrefix=function(t){return this.each(function(a,n){var i=n.className.split(" ").map(function(e){return 0===e.indexOf(t)?"":e});n.className=e.trim(i.join(" "))}),this}}(jQuery,window,document);